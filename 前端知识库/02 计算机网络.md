> 🎉重中之重的计算机基础🎉

> 一些计网面试题与计网知识…
>
> 推荐的一些超棒的资源！
>
> - 小林Coding的[《图解网络》](https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzUxODAzNDg4NQ==&action=getalbum&album_id=1337204681134751744&scene=173&from_msgid=2247483971&from_itemidx=1&count=3&nolastread=1#wechat_redirect)
> - [前端面试精粹](https://827652549.github.io/my-book/#/network/http)
> - [前端硬核面试专题](https://github.com/biaochenxuying/blog/blob/master/interview/fe-interview.md#%E7%9B%AE%E5%BD%95)  [HTTP篇](https://github.com/biaochenxuying/blog/blob/master/interview/fe-interview.md#10-https)（作者这里笔误写成HTTPS了 其实讲的都是HTTP中的内容）
> - 图解HTTP
>

> 计网应知应会
>
> - 7层网络协议
>
> - HTTP协议是重点
>   - DNS解析
> - 传输层相关（TCP、UDP）
> - 网络层相关（IP地址、IPV4、IPV6、子网掩码）

#### 简单聊聊HTTP的基本知识

```js
//小林的图解网络随时翻阅 & 极客时间趣谈网络协议+网上的文章 & 读图解HTTP TCP等书籍 & 网络抓包实操练习  深入理解
// 每天一道计网面试题 把自己带入面试者的身份 跟面试官白话白话 嗯就这样子
“聊聊HTTP
	HTTP是啥嘞
    详细解释下“超文本传输协议呗”
    HTTP是只用于服务器传客户端嘛？
    HTTP常见的状态码 说几个
    HTTP常见的字段 说几个”
```



#####  1.HTTP是啥？

**超文本传输协议**

`HyperText Transfer Protocol`

- HTTP基于TCP/IP 是关于数据如何在万维网中通信的协议
- **HTTP的底层是TCP/IP**

- 用于传送 WWW 方式的数据

##### 2.详细解释“超文本传输协议”

分三部分来看——

![img](https://mmbiz.qpic.cn/mmbiz_png/J0g14CUwaZfXG1113Sjm0iaOXfoOv0tlU4cfNS4t8C0AjG8YleW3FjITV4h4aQNn1iboHhjALOGicsFsLuQAXwVaQ/640?wx_fmt=png)

（很基础了！）

- 协议

**协** 要求由两个以上的参与者

**议** 产生对参与者的一种**行为约定和规范**

对于用在计算机世界中的HTTP协议 

它使用计算机能够理解的语言确立了一种

【1】计算机之间交流通信的规范（”协“）

【2】交流通信相关的各种 控制&错误处理 方式（”议“）



- 传输

注意 HTTP协议是一个 **双向协议** 

双向协议：客户端可以发送请求到服务端 服务端也可以把请求数据发送到客户端

同时 也要注意 —— 数据在我们看来是在两点之间传递 但是允许中间由中转/接力

> 举个例子 第一排的同学传递小纸条到后排同学时 需要经过好多同学

在HTTP中 中间人只要遵循 HTTP协议 并在不打扰基本数据传输的前提下 就可以添加额外的内容

到这里 可以给HTTP协议下一个更加贴切的定义了（加上”两点之间双向传输“这个概念）

> HTTP协议是一个在计算机世界中专门用来在==两点之间传输数据==的约定和规范

- 超文本

**超越了普通文本的文本** 文字、图片、视频、超链接的混合体

HTML就是常见的超文本 可以通过超链接实现跳转 另外 是一个有文字、有画面视频的丰富的网页



- 小结 超文本传输协议 确切一些的定义

记住几个点——”协议——约定和规范“ ”传输——在两点之间“ ”超文本——传输的内容（文字、图片、音视频“

**超文本传输协议**是

> 一个在计算机世界里==专门在**「两点」**之间**「传输」**文字、图片、音视频等**「超文本」**数据的**「约定和规范」**==

##### 3.HTTP只能用于 服务端与客户端之间 传输超文本？正确嘛？

- 不正确
- 还可以用于 **从服务器传输超文本数据到服务器**

> 所以 HTTP协议 的描述 要这么说——”采用==两点之间==传输超文本“



##### 4.HTTP常见的状态码

这里就顺着说就行了——（举一些常见的例子）

- 成功的报文
- 重定向的报文
  - 请求资源没了 301
  - 请求资源还有  但是要换个URL 302
- 客户端错误
  - 服务器禁止访问 403 Forbidden
  - 服务器上不存在 / 没找到 404 Not Found
- 服务器错误
  - 访问后端服务器发生错误 502 Bad Gateway
  - 服务器正忙 暂时无法响应 503 Service Unavailable

![img](https://mmbiz.qpic.cn/mmbiz_png/J0g14CUwaZfXG1113Sjm0iaOXfoOv0tlUfV6qkzg4yHtOibAfTv6hTicOx73F55WWl4nW2FWlXnDJ7Igd9kvrrRnA/640?wx_fmt=png)

先说说总览

- 1xx 提示信息 

协议处理中的一种中间状态 很少用

- 2xx 成功处理请求
  - 「**200 OK**」 最常见的成功状态码 一切正常！
  - 「**204 No Content**」  也是很常见的成功状态码 （区别：响应头没有body数据）
  - 「**206 Partial Content**」是应用于 HTTP 分块下载或断电续传。

表示**==服务器==成功处理了**客户端的**请求**

- 3xx 重定向请求
  - 「**301 Moved Permanently**」表示永久重定向，说明请求的资源已经不存在了
  - 「**302 Moved Temporarily**」表示临时重定向，说明请求的资源还在，但暂时需要用另一个 URL 来访问。
  - 「**304 Not Modified**」不具有跳转的含义，表示资源未修改，重定向已存在的缓冲文件，也称缓存重定向，用于缓存控制。

表示客户端请求的==资源==发生了==变动==，**需要客户端用新的 URL 重新发送请求获取资源**，也就是**重定向**。

- 4xx 客户端错误
  - 「**400 Bad Request**」表示客户端请求的报文有错误，但只是个**笼统的错误**。
    - 「**403 Forbidden**」表示**服务器禁止访问资源**，并不是客户端的请求出错。
    - 「**404 Not Found**」表示请求的资源**在服务器上不存在或未找到**，所以无法提供给客户端。

表示==客户端==发送的**报文有误**，服务器无法处理，也就是错误码的含义。

- 5xx 服务器错误
  - 「**500 Internal Server Error**」与 400 类型，是个笼统通用的错误码，服务器发生了什么错误，我们并不知道。
    - 「**501 Not Implemented**」表示客户端请求的功能还不支持，类似“即将开业，敬请期待”的意思。
    - 「**502 Bad Gateway**」通常是服务器作为网关或代理时返回的错误码，表示服务器自身工作正常，访问后端服务器发生了错误。
    - 「**503 Service Unavailable**」表示服务器当前**很忙，暂时无法响应服务器**，类似“网络服务正忙，请稍后重试”的意思。

表示客户端请求报文正确，但是**==服务器处理时==内部==发生了错误==**，属于服务器端的错误码。

##### 5.HTTP常见字段

==常见字段这里还需要多看些文章学习下！==

HTTP包从应用层被发出（自带HTTP头部） 经过传输层、网络层、链路层之后会加上

TCP头部 IP头部 MAC头部

这些头部中的字段帮助数据包抵达服务端~



HTTP协议的头域包括 `通用头，请求头，响应头和实体头` 四个部分。

- 每个头域由一个域名，冒号（:）和域值三部分组成。

【1】Host

客户端发送请求时 用来指定服务器的域名

![img](https://mmbiz.qpic.cn/mmbiz_jpg/J0g14CUwaZfXG1113Sjm0iaOXfoOv0tlU6aoJZ8ROGvuttxDGXYnKXgzDdOBXibKpZVoqhkArdZ3QvMBBDaLONkw/640?wx_fmt=jpeg)

通过Host字段 将请求发往**同一台服务器上的不同网站**





【2】Content-Length 

服务器在返回数据时，会有 `Content-Length` 字段，表明本次回应的数据长度。

![img](https://mmbiz.qpic.cn/mmbiz_jpg/J0g14CUwaZfXG1113Sjm0iaOXfoOv0tlU79Ir1qmS5DMj7XLLibaibsbUEUN5JyB2ugmEHcxwIe7JBkBHM99XQp3g/640?wx_fmt=jpeg)







【3】Connection 

最常用于客户端要求服务器使用 TCP 持久连接，以便其他请求复用。

![image](https://mmbiz.qpic.cn/mmbiz_jpg/J0g14CUwaZfXG1113Sjm0iaOXfoOv0tlUlhrVicZt4iaLPPibcD8KQV4z9vqwAaAjdtkjUo5fGlKOsTaicbtEDO4u1Q/640?wx_fmt=jpeg)

HTTP/1.1 版本的默认连接都是持久连接，但为了兼容老版本的 HTTP，需要指定 `Connection` 首部字段的值为 `Keep-Alive`。

一个==可以复用的 TCP 连接就这样建立了，直到客户端或服务器主动关闭连接==。

但是，这不是标准字段（是因为用于兼顾老版本么？这里说得不很清楚）。

【4】Content-Type

用于服务器回应时，告诉客户端，本次数据是什么格式。

![img](https://mmbiz.qpic.cn/mmbiz_jpg/J0g14CUwaZfXG1113Sjm0iaOXfoOv0tlUPPfeuboYtO6sBBQw5JI76dSrAoNlvjs2TysKiaPyVGHrtjFJiblIhfNQ/640?wx_fmt=jpeg)

上面的类型表明，发送的是网页，而且编码是UTF-8。

这里在html后缀文件中经常看到~





【5】Content-Encoding 

说明数据的压缩方法。表示服务器返回的数据使用了什么压缩格式

![img](https://mmbiz.qpic.cn/mmbiz_jpg/J0g14CUwaZfXG1113Sjm0iaOXfoOv0tlUn83Xqku5tIB6zNdHsnFH08xfURlVHdtGQiaYfF21ib3koxICwrwRnckg/640?wx_fmt=jpeg)

上面表示服务器返回的数据采用了 gzip 方式压缩，告知客户端需要用此方式解压。



同时 客户端在请求时，用 `Accept-Encoding` 字段说明自己可以**接受哪些压缩方法**。

```
Accept-Encoding: gzip, deflate
```



#### 来聊聊GET POST

```js
//小林的图解网络随时翻阅 & 极客时间趣谈网络协议+网上的文章 & 读图解HTTP TCP等书籍 & 网络抓包实操练习  深入理解
// 每天一道计网面试题 把自己带入面试者的身份 跟面试官白话白话 嗯就这样子
“来聊聊GET POST
	GET POST 的区别
    这俩方法都是安全和幂等的嘛？”
```



##### 1.GET POST的区别

简单来说 

- 一个是发请求给服务器来要资源（GET）

- 一个是发请求给服务器来给服务器提交数据（POST）

与POST恰好相反 一个是索取 一个是给予~



具体来说一下

- Get ⽅法的含义是请求从服务器获取资源。这个资源可以是静态的⽂本、⻚⾯、图⽚视频等。

> ⽐如，你打开浏览器上的一篇文章，浏览器就会发送 GET 请求给服务器，服务器就会返回⽂章的所有⽂字及资源

![请添加图片描述](https://img-blog.csdnimg.cn/9b009d37f2f546c6a956b63ea09bbd6d.png)

- ⽽ POST ⽅法则是相反操作，它向 URI 指定的资源提交数据，数据就放在报⽂的 body ⾥。 

  > URI，统一资源标志符(Uniform Resource Identifier， URI)
  >
  > *URL*一般指统一资源定位系统（uniform resource locator;*URL*）
  >
  > 表示的是web上每一种可用的资源，如 HTML文档、图像、视频片段、程序等都由一个URI进行标识的

  > ⽐如，你在小林的公众号中的⽂章底部敲⼊了留⾔后点击「提交」，浏览器就会执⾏⼀次 POST 请求，把你的 留⾔⽂字放进了报⽂ body ⾥，然后拼接好 POST 请求头，通过 TCP 协议发送给服务器

![请添加图片描述](https://img-blog.csdnimg.cn/645caf7a0bdb435284b6177916807ae0.png)





##### 2.这俩方法都是安全和幂等的嘛？

> 先说明下安全和幂等的概念：
>
> - 在 HTTP 协议⾥，所谓的「安全」是指请求⽅法**不会「破坏」服务器上的资源**。
> - 所谓的「幂等」，意思是**多次执⾏相同的操作，结果都是「相同」的**。（和执行一次一样）

根据上面对两个方法的了解——

- 很明显 GET ⽅法就是安全且==幂等==的，因为它是「只读」操作，⽆论操作多少次，服务器上的数据都是==**安全**==的，且每次的结果都是**相同**的 

- POST 因为是「新增或提交数据」的操作，会修改服务器上的资源，所以是==不安全的==，且多次提交数据就会创建多 个资源，所以==不是幂等的==

