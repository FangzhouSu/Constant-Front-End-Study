> 2021/10/13

[æ˜é‡‘æ–‡ç« é“¾æ¥](https://juejin.cn/post/7018820402679906340/)

## demoè¦æ±‚: ä¸€ä¸ªåŠ¨æ€çš„è´­ç‰©å•

> é€‚åˆåˆšå­¦ä¹ å®ŒDOMç¼–ç¨‹çš„å°ä¼™ä¼´è¿›è¡Œç»ƒæ‰‹

æ¥è‡ªMDNçš„é¡¹ç›® åœ¨Web-API DOMç¼–ç¨‹ä¸­çš„ä¸€ç« 

>  æˆ‘ä»¬è¦åšä¸€ä¸ªç®€å•çš„è´­ç‰©å•çš„ä¾‹å­ï¼Œä½¿ç”¨è¡¨å•çš„è¾“å…¥æ¡†å’ŒæŒ‰é’®åŠ¨æ€çš„å‘è´­ç‰©å•ä¸­æ·»åŠ è´­ç‰©é¡¹ã€‚åœ¨è¾“å…¥ä¸­æ·»åŠ é¡¹ï¼Œç„¶åæŒ‰ä¸‹æŒ‰é’®ï¼š
>
> - è´­ç‰©é¡¹åº”è¯¥å‡ºç°åœ¨æ¸…å•ä¸­ã€‚
> - æ¯ä¸ªè´­ç‰©é¡¹éƒ½åº”è¯¥ç»™å‡ºä¸€ä¸ªæŒ‰é’®ï¼Œå¯ä»¥æŒ‰ä¸‹æŒ‰é’®ä»æ¸…å•ä¸­åˆ é™¤è¯¥é¡¹ã€‚
> - è¾“å…¥æ¡†åº”è¯¥æ˜¯ç©ºç™½çš„å¹¶å·²èšç„¦ï¼Œä¸ºä½ å‡†å¤‡å¥½è¾“å…¥å¦ä¸€ä¸ªé¡¹ã€‚
>
> å®Œæˆåçš„æ¼”ç¤ºç¨‹åºçœ‹èµ·æ¥æœ‰ç‚¹åƒè¿™æ ·çš„:
>
> ![img](https://mdn.mozillademos.org/files/14563/shopping-list.png)
>
> è¦å®Œæˆå®éªŒï¼Œè¦æŒ‰ç…§ä¸‹é¢çš„æ­¥éª¤ï¼Œç¡®ä¿è´­ç‰©å•çš„è¡Œä¸ºå¦‚ä¸Šæ‰€è¿°ã€‚



<hr>



## [å®˜æ–¹æç¤º](https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Client-side_web_APIs/Manipulating_documents#%E4%B8%BB%E5%8A%A8%E5%AD%A6%E4%B9%A0_%E4%B8%80%E4%B8%AA%E5%8A%A8%E6%80%81%E7%9A%84%E8%B4%AD%E7%89%A9%E5%8D%95)



## å®Œæˆæ­¥éª¤

ä»£ç ä¸­æ³¨é‡Šå·²ç»å¾ˆè¯¦ç»†äº†ï¼Œä¸å†è¿‡å¤šé˜è¿°äº†ã€‚

æ ¸å¿ƒJSä»£ç å¦‚ä¸‹ï¼š

```js
// æœ¬éƒ¨åˆ†å†…å®¹å˜é‡çš„å‘½åè§„èŒƒæ€§æ˜¯å‘MDNå­¦ä¹ çš„ å¤§å®¶æ”¾å¿ƒçœ‹~
// 01 åˆ›å»ºä¸‰ä¸ªå˜é‡æ¥ä¿å­˜æœ¬ä¾‹ä¸­çš„ä¸‰ä¸ªä¸»è¦å…ƒç´ 
// è¾“å…¥æ¡†
// å¢æ·»å…ƒç´ æŒ‰é’®
// è¦ç”Ÿæˆçš„åˆ—è¡¨
const input = document.querySelector('input');
const button = document.querySelector('button');
const list = document.querySelector('ul');
// 02 åˆ›å»ºä¸€ä¸ªå‡½æ•° æ¥å“åº”æŒ‰é’®ç‚¹å‡»äº‹ä»¶
button.onclick = function(){
    // è®¾ç½®å…ƒç´ è®°å½•è¾“å…¥æ¡†ä¸­çš„å†…å®¹ï¼Œåˆå§‹å€¼ä¸ºç©º
    let myItem = input.value;
    input.value = '';
    // 03 é€šè¿‡ç‚¹å‡»æŒ‰é’®è§¦å‘äº‹ä»¶ç”Ÿæˆçš„å…ƒç´ 
    // åˆ—è¡¨å…ƒç´  listItem
    // listItemä¸­åŒ…å«çš„å†…å®¹ & ï¼ˆåˆ é™¤ï¼‰æŒ‰é’®
    let listItem = document.createElement('li');
    let listText = document.createElement('span');
    let listBtn = document.createElement('button');
    // 04 å°†åˆ—è¡¨å†…å®¹ä¸æŒ‰é’®åŠ å…¥åˆ°listItemä¸­ ç»„æˆä¸€ä¸ªåˆ—è¡¨å…ƒç´ 
    listItem.appendChild(listText);
    listText.textContent = myItem;// è®¾ç½®å†…å®¹çš„æ–‡æœ¬ä¸ºâ€œä»è¾“å…¥æ¡†è·å–çš„å†…å®¹â€
    listItem.appendChild(listBtn);
    listBtn.textContent = "Delete";// è®¾ç½®æŒ‰é’®çš„æ–‡æœ¬
    // 05 å°†åˆ—è¡¨çš„ä¸€é¡¹åŠ å…¥æ€»åˆ—è¡¨ä¸­
    list.appendChild(listItem);
    // 06 ä¸ºåˆ é™¤æŒ‰é’®ç»‘å®šäº‹ä»¶å¤„ç†ç¨‹åº
    listBtn.onclick = function(e){
        // ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œåˆ é™¤å…¶æ‰€åœ¨çš„æ•´ä¸ªlistItemå…ƒç´ ï¼ˆä¹Ÿå°±æ˜¯åˆ—è¡¨é¡¹ï¼‰
        list.removeChild(listItem);
    }
    // 07 ç‚¹å‡»å®Œä¸€æ¬¡æŒ‰é’®ä¹‹åï¼Œé‡æ–°èšç„¦äºè¾“å…¥æ¡†
    input.focus();
}
```

## å°ç»“ä¸å¿ƒå¾—

æœ¬demoå¸®åŠ©æˆ‘ä»¬å­¦ä¹ å¹¶å·©å›ºäº†DOMç¼–ç¨‹ä¸­çš„ä¸€äº›é‡è¦çŸ¥è¯†ç‚¹ï¼Œ

- `document.querySelector()` â€”â€” è·å–èŠ‚ç‚¹
- `document.createElement('li')` â€”â€” åˆ›å»ºä¸€ä¸ªå…ƒç´ 
- `listItem.appendChild(listText)` â€”â€” å°†`listText`è®¾ä¸º`listItem`çš„å­èŠ‚ç‚¹

ä¸ºå…ƒç´ ç»‘å®šäº‹ä»¶ï¼Œåœ¨å¯¹å…¶è¿›è¡Œæ“ä½œæ—¶è§¦å‘äº‹ä»¶å‡½æ•°

- `buttn.onclick = function()`

è·å–æŒ‡å®šèŠ‚ç‚¹çš„æ–‡æœ¬å†…å®¹â€”â€”

- `listText.textContent`

è·å–inputå…ƒç´ çš„å†…å®¹ä½¿ç”¨

- `input.value`

æœ€åéœ€è¦æ³¨æ„æœ¬ä¾‹ä¸­ä½¿ç”¨çš„å˜é‡åç§°éƒ½æ¯”è¾ƒè§„èŒƒï¼Œå»ºè®®å¤§å®¶å­¦ä¹ ~



OVERğŸ‰