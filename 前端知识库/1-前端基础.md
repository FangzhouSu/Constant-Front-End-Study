> ğŸ‰é‡ä¸­ä¹‹é‡çš„å‰ç«¯åŸºç¡€ğŸ‰

> ä¸»è¦ä¸º
>
> - HTML
> - CSS
> - JavaScript
>
> çš„å¿…ä¼šçŸ¥è¯†ç‚¹ä»¬
>
> > å†…å®¹æ¥æºï¼šã€ŠJavaScripté«˜çº§ç¨‹åºè®¾è®¡~ï¼ˆç¬¬å››ç‰ˆï¼‰~ã€‹/ ä¼—å¤šå¤§ä½¬ä»¬çš„çŸ¥è¯†åšå®¢/ è‡ªå·±å­¦ä¹ è¿‡ç¨‹ä¸­è®°å½•çš„ç¬”è®°/ [MDNæ–‡æ¡£](https://developer.mozilla.org/zh-CN/docs/Web)

> é‡è¦çš„çŸ¥è¯†ç‚¹è¦æ·±å…¥æŒæ¡ï¼Œä¸è¦æ»¡è¶³äºåªçŸ¥é“ç®€å•åœ°æ¦‚å¿µï¼Œä¸‰æ®µè®ºå­¦ä¹ æ–°çŸ¥è¯†ï¼ˆ/é‡ç‚¹çŸ¥è¯†ï¼‰æ³•â€”â€”
>
> - äº†è§£è¿™ä¸ªçŸ¥è¯†çš„**æ¦‚å¿µæ˜¯ä»€ä¹ˆ**ï¼ˆæœ€æœ€åŸºç¡€çš„è¦æ±‚ï¼‰
>
> - äº†è§£è¿™ä¸ªçŸ¥è¯†**è¢«æå‡ºæ¥çš„ç›®çš„æ˜¯ä»€ä¹ˆ**ï¼ˆä¸è¦åƒèƒŒç­”æ¡ˆä¸€æ ·å­¦ä¹ æ–°çŸ¥è¯†ï¼‰?
> - å°†çŸ¥è¯†**ç”¨ä¸€å¥è¯ï¼ˆç®€ç»ƒåœ°ï¼‰è¯´æ¸…æ¥š**ï¼ˆä¸€æ­¥æŠ“ä½é¢è¯•å®˜æƒ³è¦çŸ¥é“çš„å†…å®¹ï¼Œå†æ‹“å±•å¼€æ¥è®²ï¼‰ï¼
>
> è¿™éƒ¨åˆ†çš„å†…å®¹å›å¤´å°½é‡ç”¨è¿™ä¸‰æ®µè®ºçš„æ€è·¯è¡¥å…¨~

# HTML

HTMLï¼ˆ`HyperText Markup Language`ï¼Œè¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼‰æ˜¯ä¸ºäº†å‘é€ Web ä¸Šçš„è¶…æ–‡æœ¬ï¼ˆHypertextï¼‰è€Œå¼€å‘çš„æ ‡è®°è¯­è¨€ã€‚

- è¶…æ–‡æœ¬æ˜¯ä¸€ç§æ–‡æ¡£ç³»ç»Ÿï¼Œå¯å°†æ–‡æ¡£ä¸­ä»»æ„ä½ç½®çš„ä¿¡æ¯ä¸å…¶ä»–ä¿¡æ¯ï¼ˆæ–‡æœ¬æˆ–å›¾ç‰‡ç­‰ï¼‰å»ºç«‹å…³è”ï¼Œå³è¶…é“¾æ¥æ–‡æœ¬ã€‚
- æ ‡è®°è¯­è¨€æ˜¯æŒ‡é€šè¿‡åœ¨æ–‡æ¡£çš„æŸéƒ¨åˆ†ç©¿æ’ç‰¹åˆ«çš„ å­—ç¬¦ä¸²æ ‡ç­¾ï¼Œç”¨æ¥ä¿®é¥°æ–‡æ¡£çš„è¯­è¨€ã€‚æˆ‘ä»¬æŠŠå‡ºç°åœ¨ HTML æ–‡æ¡£å†…çš„è¿™ç§ç‰¹æ®Šå­—ç¬¦ä¸²å«åš HTML æ ‡ç­¾ï¼ˆTagï¼‰ã€‚

## å¸¸ç”¨æ ‡ç­¾ã€è¯­ä¹‰åŒ–æ ‡ç­¾

[HTMLæ ‡ç­¾ å‚è€ƒæ‰‹å†Œ](http://yige.org/html5/reference.php) 

#### `<select>&<option>`

select å…ƒç´ **å¯åˆ›å»ºå•é€‰æˆ–å¤šé€‰èœå•**ã€‚

ä¸‹æ–¹ä»£ç æ•ˆæœåˆ›å»ºå¸¦æœ‰ 4 ä¸ªé€‰é¡¹çš„é€‰æ‹©åˆ—è¡¨ï¼š

```html
<select>
  <option value ="volvo">Volvo</option>
  <option value ="saab">Saab</option>
  <option value="opel">Opel</option>
  <option value="audi">Audi</option>
</select>
```

ä¸‹æ–¹æ•ˆæœéœ€åœ¨Typoraï¼ˆä¹Ÿè®¸å…¶ä»–æ–‡æœ¬ç¼–è¾‘å™¨ä¹Ÿè¡Œï¼Ÿï¼‰ä¸­**é•¿æŒ‰**æ¥æ˜¾ç¤º

<select>
  <option value ="volvo">Volvo</option>
  <option value ="saab">Saab</option>
  <option value="opel">Opel</option>
  <option value="audi">Audi</option>
</select>
#### [`<label>` - HTMLï¼ˆè¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼‰ | MDN (mozilla.org)](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/label)

çŸ¥è¯†ç‚¹æ¥æºï¼š[åŸºç¡€ HTML å’Œ HTML5: åˆ›å»ºä¸€ç»„å¤é€‰æ¡† | freeCodeCamp.org](https://chinese.freecodecamp.org/learn/responsive-web-design/basic-html-and-html5/create-a-set-of-checkboxes)

![image-20211226220655434](https://gitee.com/su-fangzhou/blog-image/raw/master/202112262206778.png)

![image-20211226213651726](https://gitee.com/su-fangzhou/blog-image/raw/master/202112262136088.png)




## HTMLæ ‡ç­¾å±æ€§ç›¸å…³

#### href&src

- href è¶…æ–‡æœ¬å¼•ç”¨

  > href ç”¨äº**å»ºç«‹æ ‡ç­¾å’Œå¤–éƒ¨èµ„æºçš„å…³ç³»**

- srcæ˜¯èµ„æºçš„æ„æ€

  > src è¡¨ç¤º**èµ„æºæ›¿ä»£è¿™ä¸ªå…ƒç´ **ã€‚

##### åŒºåˆ«

è¿™ä¸ªç‚¹è¿˜æ˜¯æ¯”è¾ƒé‡è¦çš„ï¼

- æµè§ˆå™¨é‡åˆ°hrefä¼š**å¹¶è¡Œä¸‹è½½èµ„æº**ï¼Œä½†æ˜¯ä¸ä¼šåœæ­¢å¯¹æ–‡æ¡£è¿›è¡Œè§£æã€‚
- æµè§ˆå™¨é‡åˆ°srcä¼šæš‚åœå…¶å®ƒ**èµ„æºçš„ä¸‹è½½å’Œæ–‡æ¡£è§£æ**ï¼Œç›´åˆ°èµ„æºåŠ è½½å®Œæ¯•ã€‚ï¼ˆè¿™å°±æ˜¯scriptæ ‡ç­¾ä¸èƒ½æ”¾åœ¨å¤´éƒ¨çš„åŸå› ï¼‰

 è¿™å¼ å›¾æ‹¿å‡ºæ¥çœ‹ä¸‹ æ›´æœ‰æ„Ÿè§‰äº†ï¼ï¼

å¾ˆæ˜æ˜¾ï¼è„šæœ¬çš„åŠ è½½ï¼ˆä¹Ÿå¯ä»¥ç§°ä½œä¸‹è½½ï¼‰ï¼ˆè“è‰²é‚£éƒ¨åˆ†ï¼‰åœ¨deferã€asyncä¸¤ä¸ªå±æ€§çš„ä½œç”¨ä¸‹ï¼Œæ˜¯å¹¶è¡Œï¼ˆå¯ä»¥å’Œå…¶ä»–è¿›ç¨‹ æ¯”å¦‚æ–‡æ¡£æ¸²æŸ“ä¸€èµ·~ï¼‰çš„ï¼

è€Œè„šæœ¬çš„æ‰§è¡Œæ˜¯å¹¶å‘çš„ï¼ˆéœ€è¦é˜»å¡æ‰å…¶ä»–è¿›ç¨‹~ï¼‰

![image.png](https://cdn.nlark.com/yuque/0/2020/png/1500604/1603547262709-5029c4e4-42f5-4fd4-bcbb-c0e0e3a40f5a.png)



## HTMLäº‹ä»¶ç›¸å…³



## HTML5æ–°å¢å†…å®¹

[HTML5æ ‡ç­¾ å‚è€ƒæ‰‹å†Œ](http://yige.org/html5/reference.php) å…¶ä¸­å¸¦newæ ‡ç­¾çš„æ˜¯HTML5ä¸­çš„æ–°æ ‡ç­¾



# CSS

## CSSåŸºç¡€

#### `display:none` `visibility:hidden`çš„åŒºåˆ«

1.display:noneæ˜¯å½»åº•æ¶ˆå¤±ï¼Œ**ä¸åœ¨æ–‡æ¡£æµä¸­å ä½**ï¼Œæµè§ˆå™¨ä¹Ÿä¸ä¼šè§£æè¯¥å…ƒç´ ï¼›visibility:hiddenæ˜¯è§†è§‰ä¸Šæ¶ˆå¤±äº†ï¼Œå¯ä»¥ç†è§£ä¸ºé€æ˜åº¦ä¸º0çš„æ•ˆæœï¼Œ**åœ¨æ–‡æ¡£æµä¸­å ä½**ï¼Œæµè§ˆå™¨ä¼šè§£æè¯¥å…ƒç´ ï¼›

![image-20211116222402053](https://gitee.com/su-fangzhou/blog-image/raw/master/202111162224130.png)

2.ä½¿ç”¨visibility:hiddenæ¯”display:noneæ€§èƒ½ä¸Šè¦å¥½ï¼Œ

- display:noneåˆ‡æ¢æ˜¾ç¤ºæ—¶é¡µé¢äº§ç”Ÿ**å›æµ**ï¼ˆå½“é¡µé¢ä¸­çš„ä¸€éƒ¨åˆ†å…ƒç´ éœ€è¦æ”¹å˜è§„æ¨¡å°ºå¯¸ã€å¸ƒå±€ã€æ˜¾ç¤ºéšè—ç­‰ï¼Œé¡µé¢é‡æ–°æ„å»ºï¼Œæ­¤æ—¶å°±æ˜¯å›æµã€‚æ‰€æœ‰é¡µé¢ç¬¬ä¸€æ¬¡åŠ è½½æ—¶éœ€è¦äº§ç”Ÿä¸€æ¬¡å›æµï¼‰ï¼Œ
- è€Œvisibilityåˆ‡æ¢æ˜¯å¦æ˜¾ç¤ºæ—¶åˆ™**ä¸ä¼šå¼•èµ·å›æµ**ã€‚

###  å…ƒç´ çš„å±‚å é¡ºåº

å±‚å é¡ºåºï¼Œè‹±æ–‡ç§°ä½œ stacking orderï¼Œè¡¨ç¤ºå…ƒç´ å‘ç”Ÿå±‚å æ—¶æœ‰ç€ç‰¹å®šçš„å‚ç›´æ˜¾ç¤ºé¡ºåºã€‚ä¸‹é¢æ˜¯ç›’æ¨¡å‹çš„å±‚å è§„åˆ™ï¼š

![img](https://imgconvert.csdnimg.cn/aHR0cHM6Ly91cGxvYWQtaW1hZ2VzLmppYW5zaHUuaW8vdXBsb2FkX2ltYWdlcy8xODcyMDM1OC0xMjlhMmMzMWIyN2Y3YzU1LnBuZw)

ç”±ä¸Šåˆ°ä¸‹åˆ†åˆ«æ˜¯ï¼š

ï¼ˆ1ï¼‰èƒŒæ™¯å’Œè¾¹æ¡†ï¼šå»ºç«‹å½“å‰å±‚å ä¸Šä¸‹æ–‡å…ƒç´ çš„èƒŒæ™¯å’Œè¾¹æ¡†ã€‚

ï¼ˆ2ï¼‰è´Ÿçš„ z-indexï¼šå½“å‰å±‚å ä¸Šä¸‹æ–‡ä¸­ï¼Œz-index å±æ€§å€¼ä¸ºè´Ÿçš„å…ƒç´ ã€‚

ï¼ˆ3ï¼‰å—çº§ç›’ï¼šæ–‡æ¡£æµå†…éè¡Œå†…çº§éå®šä½åä»£å…ƒç´ ã€‚

ï¼ˆ4ï¼‰æµ®åŠ¨ç›’ï¼šéå®šä½æµ®åŠ¨å…ƒç´ ã€‚

ï¼ˆ5ï¼‰è¡Œå†…ç›’ï¼šæ–‡æ¡£æµå†…è¡Œå†…çº§éå®šä½åä»£å…ƒç´ ã€‚

ï¼ˆ6ï¼‰z-index:0ï¼šå±‚å çº§æ•°ä¸º 0 çš„å®šä½å…ƒç´ ã€‚

ï¼ˆ7ï¼‰æ­£ z-indexï¼šz-index å±æ€§å€¼ä¸ºæ­£çš„å®šä½å…ƒç´ ã€‚

**æ³¨æ„:** å½“å®šä½å…ƒç´  z-index:autoï¼Œç”Ÿæˆç›’åœ¨å½“å‰å±‚å ä¸Šä¸‹æ–‡ä¸­çš„å±‚çº§ä¸º 0ï¼Œä¸ä¼šå»ºç«‹æ–°çš„å±‚å ä¸Šä¸‹æ–‡ï¼Œé™¤éæ˜¯æ ¹å…ƒç´ ã€‚

## ç›’æ¨¡å‹



## é€‰æ‹©å™¨ã€æ ·å¼æƒé‡



## CSSå¸¸ç”¨å±æ€§ï¼ˆå¦‚ï¼špositionï¼‰

#### [CSS positionå±æ€§ - MDNæ–‡æ¡£](https://developer.mozilla.org/zh-CN/docs/Web/CSS/position)

#### [ä½¿ç”¨ç»å¯¹å®šä½å®ç°å…ƒç´ å‚ç›´å±…ä¸­](https://juejin.cn/post/7009662518406676488/#heading-5)



## CSSå¸¸ç”¨å¸ƒå±€ï¼ˆå¦‚ï¼šflexã€gridï¼‰

### Flexå¸ƒå±€

> ä¼˜è´¨ç»ƒä¹ èµ„æº [å°é’è›™æ‰¾è·å¶](https://flexboxfroggy.com/?utm_source=gold_browser_extension#zh-cn)
>
> [å®˜æ–¹æ–‡æ¡£](https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Flexible_Box_Layout/Basic_Concepts_of_Flexbox)

#### å°é’è›™æ¡ˆä¾‹24å…³

```css
#pond {
    display: flex;
	flex-direction:column-reverse;/* æ”¹å˜æ’åˆ—æ–¹å¼ä¸ºç«–ç›´å€’åº */
    align-content: space-between;/* å†³å®šè¡Œä¸è¡Œä¹‹é—´çš„è·ç¦» */
    flex-wrap: wrap-reverse;/* è‡ªåŠ¨æ¢è¡Œæˆå¤šè¡Œï¼ˆé»˜è®¤ä¸ºå¼ºåˆ¶åœ¨ä¸€è¡Œï¼‰ */
	justify-content: center;/* å±…ä¸­ */
}
```

æ•ˆæœå¦‚ä¸‹ï¼š

![image-20211111165046955](https://gitee.com/su-fangzhou/blog-image/raw/master/202111111650078.png)



#### ç»å…¸é—®é¢˜-[åˆ©ç”¨å¸ƒå±€å®ç°å…ƒç´ å‚ç›´å±…ä¸­](https://juejin.cn/post/7009662518406676488/#heading-3)



## CSSåŠ¨ç”»ç›¸å…³ï¼ˆanimationï¼‰

## CSSæµ®åŠ¨ç›¸å…³ï¼ˆfloatï¼‰

> æµ®åŠ¨è¿™å—å„¿è®²ç©¶å¯å¤šå’§ï¼å›å¤´è¿˜éœ€è¦å¤šç ”ç©¶ä¸‹å‘ï¼

#### æµ®åŠ¨çš„ä½œç”¨

- è®¾ç½®æµ®åŠ¨çš„å›¾ç‰‡â€”â€”å®ç°æ–‡å­—ç¯ç»•å›¾ç‰‡
- è®¾ç½®äº†æµ®åŠ¨çš„å—çº§å…ƒç´ å¯ä»¥æ’åˆ—åœ¨åŒä¸€è¡Œ
- **è®¾ç½®äº†æµ®åŠ¨çš„è¡Œå†…å…ƒç´ å¯ä»¥è®¾ç½®å®½é«˜** - `æ¶¨çŸ¥è¯†ç³»åˆ—`
- å¯ä»¥æŒ‰ç…§æµ®åŠ¨è®¾ç½®çš„æ–¹å‘å¯¹é½æ’åˆ—ç›’å­ - `æ²¡è§è¿‡è¿™ç”¨æ³•`

#### è®¾ç½®æµ®åŠ¨å…ƒç´ çš„ç‰¹ç‚¹

- è®¾ç½®äº†æµ®åŠ¨ï¼Œè¯¥å…ƒç´ è„±ç¦»æ–‡æ¡£æµã€‚å…ƒç´ ä¸å ä½ç½®
- å¦‚æœçˆ¶çº§ç›’å­æ²¡æœ‰è®¾ç½®é«˜åº¦ï¼Œéœ€è¦è¢«å­ç›’å­æ’‘å¼€ï¼Œé‚£ä¹ˆè¿™æ—¶å€™çˆ¶çº§ç›’å­çš„**é«˜åº¦**å°±**å¡Œé™·**äº†ï¼ŒåŒæ—¶ä¹Ÿä¼šé€ æˆçˆ¶çº§ç›’å­åé¢çš„å…„å¼Ÿç›’å­å¸ƒå±€å—åˆ°å½±å“

æ¸…é™¤æµ®åŠ¨çš„æ–¹æ³•

- ä¼ªå…ƒç´ æ¸…é™¤æµ®åŠ¨

```css
.clearfix::after {
    content: ''; 
    display: table; 
    clear: both;
 }
```



- ç»™æµ®åŠ¨å…ƒç´ çˆ¶çº§æ·»åŠ  `overflow:hidden;`
- é¢å¤–æ ‡ç­¾æ³•ï¼šç»™æµ®åŠ¨å…ƒç´ çˆ¶çº§å¢åŠ æ ‡ç­¾

```css
<div class="wrap">
    <div class='left fl'></div>
    <div class='right fl'></div>
    <div style='clear:both'></div>
</div>
```



##### æ¸…é™¤æµ®åŠ¨çš„ç‰¹ç‚¹å’Œå½±å“

- ä¼ªå…ƒç´ æ¸…é™¤æµ®åŠ¨ï¼šä¸ä¼šæ–°å¢æ ‡ç­¾ï¼Œä¸ä¼šæœ‰å…¶ä»–å½±å“ï¼Œæ˜¯å½“ä¸‹æ¸…é™¤æµ®åŠ¨æœ€æµè¡Œçš„æ–¹æ³•
- `overflowï¼šhidden;`ä¸ä¼šæ–°å¢æ ‡ç­¾ï¼Œä½†æ˜¯å¦‚æœçˆ¶çº§å…ƒç´ æœ‰å®šä½å…ƒç´ è¶…å‡ºçˆ¶çº§ï¼Œè¶…å‡ºéƒ¨åˆ†ä¼šéšè—ï¼Œåœ¨ä¸æ¶‰åŠçˆ¶çº§å…ƒç´ æœ‰è¶…å‡ºå†…å®¹çš„æƒ…å†µï¼Œoverflowï¼šhiddenæ¯”è¾ƒå¸¸ç”¨ï¼Œæ¯•ç«Ÿå†™æ³•æ–¹ä¾¿ç®€æ´
-  æ ‡ç­¾æ’å…¥æ³•ï¼šæ¸…é™¤æµ®åŠ¨çš„è¯­æ³•åŠ åœ¨æ–°å¢æ ‡ç­¾ä¸Šï¼Œç”±äºæ–°å¢æ ‡ç­¾ä¼šé€ æˆä¸å¿…è¦çš„æ¸²æŸ“ï¼Œæ‰€ä»¥è¿™ç§æ–¹æ³•ç›®å‰ä¸å»ºè®®ä½¿ç”¨







## ç§»åŠ¨ç«¯é€‚é…

## å“åº”å¼å¸ƒå±€

## CSS3æ–°å¢å†…å®¹

#### ä¼ªç±» ä¼ªå…ƒç´ 

**ä¼ªç±»ï¼š**

ä¼ªç±»æ˜¯ä»¥`:`ä½œä¸º**å‰ç¼€**çš„

ä¼ªç±»æ˜¯é™„åŠ åœ¨**é€‰æ‹©å™¨æœ«**çš„**å…³é”®å­—**

ä¼ªç±»å…ƒç´ å¯ä»¥è®©**æŒ‡å®šçš„å…ƒç´ **ï¼Œåœ¨**æŒ‡å®šçš„çŠ¶æ€**ï¼Œå‘ˆç°ç‰¹ç‚¹æ ·å¼çš„å…³é”®å­—ã€‚

**ä¼ªå…ƒç´ ï¼š**

ä¼ªå…ƒç´ æ˜¯ä»¥`::`ä½œä¸º**å‰ç¼€**çš„

ä¼ªå…ƒç´ æ˜¯é™„åŠ åœ¨**é€‰æ‹©å™¨æœ«**çš„**å…³é”®å­—**

ä¼ªå…ƒç´ å¯ä»¥**æ·»åŠ å…ƒç´ **ï¼Œè™½ç„¶å¯ä»¥**æ˜¾ç¤ºå…ƒç´ **ï¼Œä½†æ˜¯åˆ›å»ºå…ƒç´ **ä¸ä¼šåœ¨DOMæ ‘**ä¸­å­˜åœ¨ã€‚

# JavaScript

## JSå˜é‡ä¸æ•°æ®ç±»å‹

### ä¸ƒç§åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¸€ç§å¼•ç”¨æ•°æ®ç±»å‹

- å†™è¿‡ä¸€ç¯‡æ–‡ç«  [é‡å­¦æ•°æ®ï¼ˆç±»å‹ï¼‰ã€å˜é‡ã€å†…å­˜](https://juejin.cn/post/7015057932135956487)ï¼Œ

  - èŠäº†ä¸€ä¸‹è¿™å‡ ä¸ªæ•°æ®ç±»å‹è¦å¦‚ä½•é€šè¿‡typeof instanceofåˆ¤å®šï¼›

  - èŠäº†ä¸€ä¸‹å†…å­˜çš„é—®é¢˜â€”â€”

    - åŸºæœ¬æ•°æ®ç±»å‹èµ‹å€¼ç»™å˜é‡ï¼Œå˜é‡å­˜åœ¨æ ˆä¸­ï¼›
    - å¼•ç”¨æ•°æ®ç±»å‹èµ‹å€¼ç»™å˜é‡ï¼Œå˜é‡å­˜åœ¨æ ˆä¸­ï¼Œè€Œå¯¹è±¡ä¿å­˜åœ¨å †ä¸­ï¼Œå˜é‡æŒ‡å‘å †~

    ![image-20211031143811230](https://gitee.com/su-fangzhou/blog-image/raw/master/202110311438372.png)

- åŸºæœ¬æ•°æ®ç±»å‹

![image-20211031103940566](https://gitee.com/su-fangzhou/blog-image/raw/master/202110311039729.png)

```js
var a = 1, b = 2;
function test(pre, cur){
    pre = "hello world";// å‡½æ•°ä½œç”¨åŸŸä¸­çš„preä¸º"hello world"
    cur = 666;// å‡½æ•°ä½œç”¨åŸŸä¸­çš„curä¸º666
    // è¿™äºŒä½éƒ½ä¸ä¼šå½±å“åˆ°a b
}
function test2(){
    a = a+1;
    b = 666;
}
test(a, b);
console.log(a, b);// 1 2
test2();
console.log(a, b);// 2 666
```



- å¼•ç”¨ç±»å‹

Object 





### éšå¼ç±»å‹è½¬æ¢

#### `==`ä¸­çš„éšå¼ç±»å‹è½¬æ¢

æ ¹æ®çº¢å®ä¹¦å¤ä¹ çš„å†…å®¹

### å­—ç¬¦ä¸²è½¬æ•°å€¼å‹ä½¿ç”¨çš„API

#### parseInt & parseFloat

é¦–å…ˆæ˜ç¡®å®šä¹‰

- `parseInt` 

`parseInt`å‡½æ•°å°†å…¶ç¬¬ä¸€ä¸ªå‚æ•°è½¬æ¢ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¯¹è¯¥å­—ç¬¦ä¸²**è¿›è¡Œè§£æ**ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ•´æ•°æˆ– `NaN`ã€‚

ç¬¬äºŒä¸ªå‚æ•°ä¸ºå…¶å¯¹åº”çš„è¿›åˆ¶ï¼ˆé»˜è®¤æ˜¯åè¿›åˆ¶å“ˆï¼‰

> æ³¨æ„å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°ä»å·¦åˆ°å³æ•°ï¼Œé‡åˆ°å­—ç¬¦å°±ä¼šèˆå¼ƒå­—ç¬¦+å­—ç¬¦åé¢çš„å†…å®¹
>
> ```js
> parseInt('0001', 2);// 1
> parseInt('00x1111', 2);// 0
> parseInt('0011x11', 2);// 3
> ```

```js
parseInt('123xxx', 5) // å…ˆæŠŠ'123xxx'è½¬æ¢ä¸º'123' å°†'123'çœ‹ä½œ5è¿›åˆ¶æ•°ï¼Œè¿”å›åè¿›åˆ¶æ•°38 => 1*5^2 + 2*5^1 + 3*5^0 = 38
```

- `parseFloat`

**`parseFloat()`** å‡½æ•°è§£æä¸€ä¸ªå‚æ•°ï¼ˆå¿…è¦æ—¶å…ˆè½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼‰å¹¶è¿”å›ä¸€ä¸ªæµ®ç‚¹æ•°ã€‚

```js
parseFloat('5556.6www');// 5556.6
```



è¿™é‡Œä¸€ä¸ªæœ‰è¶£çš„åº”ç”¨

```js
var a = ["88","66"];
// å°†aæ•°ç»„è½¬æ¢ä¸ºæ•°å€¼å‹å¯ä»¥ç®€å•åœ°è¿™æ ·åš
a.map(parseFloat);// [88,66]è¿™é‡Œå…¶å®æˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºå•¥å¯ä»¥XD
//a.map(parseInt) è¿”å›å°±æ˜¯ [88,NaN]ğŸ¥º
// ä¹Ÿå¯ä»¥å¸¸è§„ä¸€äº›~
a.map(x => parseInt(x));// .map(x => parseFloat(x))
```

## åŸºç¡€è¯­æ³•

#### [forâ€¦in](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...in) [forâ€¦of](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...of)çš„ç”¨æ³•

- for in éå†å¯¹è±¡ è€Œä¸æ˜¯æ•°ç»„

![](https://gitee.com/su-fangzhou/blog-image/raw/master/202111230949518.png)

- for of éå†å¯è¿­ä»£å¯¹è±¡ Array Map Set

![image-20211123095042012](https://gitee.com/su-fangzhou/blog-image/raw/master/202111230950252.png)

è¿™ä¸ªå¥½ç”¨æ¬¸ï¼

![image-20211123095138548](https://gitee.com/su-fangzhou/blog-image/raw/master/202111230951802.png)



## Arrayç±»å‹ç›¸å…³çŸ¥è¯†ï¼ŒåŠå¸¸è§api

> ES5æ–°å¢çš„Array API
>
> [å¼ é‘«æ—­å¤§ä½¬çš„åšå®¢](https://www.zhangxinxu.com/wordpress/2013/04/es5%e6%96%b0%e5%a2%9e%e6%95%b0%e7%bb%84%e6%96%b9%e6%b3%95/)

### Array APIæ€»ç»“

> ä¸‹é¢è¿™äº›å†…å®¹å¤§éƒ¨åˆ†ä¸ºçº¢å®ä¹¦çš„å†…å®¹

#### 1.åˆ›å»ºæ•°ç»„çš„é™æ€æ–¹æ³• from of

from()ç”¨äºå°† ç±»æ•°ç»„ç»“æ„è½¬æ¢ä¸ºæ•°ç»„å®ä¾‹ï¼Œè€Œ of()ç”¨äºå°†ä¸€ç»„å‚æ•°è½¬æ¢ä¸ºæ•°ç»„å®ä¾‹

#### 2.æ•°ç»„ç©ºä½

ç”±äºè¡Œä¸ºä¸ä¸€è‡´å’Œå­˜åœ¨æ€§èƒ½éšæ‚£ï¼Œå› æ­¤å®è·µä¸­è¦é¿å…ä½¿ç”¨æ•°ç»„ç©ºä½ã€‚

å¦‚æœç¡®å®éœ€è¦ç©ºä½ï¼Œåˆ™å¯ä»¥æ˜¾å¼åœ°ç”¨ undefined å€¼ä»£æ›¿ã€‚

#### 3.lengthå±æ€§

æ•°ç»„ length å±æ€§çš„ç‹¬ç‰¹ä¹‹å¤„åœ¨äºï¼Œå®ƒä¸æ˜¯åªè¯»çš„ã€‚é€šè¿‡ä¿®æ”¹ length å±æ€§ï¼Œå¯ä»¥ä»æ•°ç»„æœ«å°¾åˆ é™¤ / æ·»åŠ å…ƒç´ 

#### 4.æ•°ç»„æ£€æµ‹

ä¸€ä¸ªç»å…¸çš„ ECMAScript é—®é¢˜æ˜¯åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯ä¸æ˜¯æ•°ç»„ã€‚åœ¨åªæœ‰ä¸€ä¸ªç½‘é¡µï¼ˆå› è€Œåªæœ‰ä¸€ä¸ªå…¨å±€ä½œ ç”¨åŸŸï¼‰çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ `instanceof` æ“ä½œç¬¦å°±è¶³çŸ£ï¼š

> ä½¿ç”¨ `instanceof` çš„é—®é¢˜æ˜¯å‡å®šåªæœ‰ä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚å¦‚æœç½‘é¡µé‡Œæœ‰å¤šä¸ªæ¡†æ¶ï¼Œåˆ™å¯èƒ½æ¶‰åŠä¸¤ ä¸ªä¸åŒçš„å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå› æ­¤å°±ä¼šæœ‰ä¸¤ä¸ªä¸åŒç‰ˆæœ¬çš„ Array æ„é€ å‡½æ•°ã€‚å¦‚æœè¦æŠŠæ•°ç»„ä»ä¸€ä¸ªæ¡†æ¶ä¼ ç»™å¦ä¸€ä¸ªæ¡†æ¶ï¼Œåˆ™è¿™ä¸ªæ•°ç»„çš„æ„é€ å‡½æ•°å°†æœ‰åˆ«äºåœ¨ç¬¬äºŒä¸ªæ¡†æ¶å†…æœ¬åœ°åˆ›å»ºçš„æ•°ç»„ã€‚

ä¸ºè§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒECMAScriptæä¾›äº† `Array.isArray()`æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•çš„ç›®çš„å°±æ˜¯ç¡®å®šä¸€ä¸ªå€¼æ˜¯ å¦ä¸ºæ•°ç»„ï¼Œè€Œä¸ç”¨ç®¡å®ƒæ˜¯åœ¨å“ªä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åˆ›å»ºçš„

#### 5.è¿­ä»£å™¨æ–¹æ³• keys values entries

åœ¨ ES6 ä¸­ï¼ŒArray çš„åŸå‹ä¸Šæš´éœ²äº† 3 ä¸ªç”¨äºæ£€ç´¢æ•°ç»„å†…å®¹çš„æ–¹æ³•ï¼škeys()ã€values()å’Œ entries()ã€‚keys()è¿”å›**æ•°ç»„ç´¢å¼•**çš„è¿­ä»£å™¨ï¼Œvalues()è¿”å›**æ•°ç»„å…ƒç´ **çš„è¿­ä»£å™¨ï¼Œè€Œ entries()è¿”å›**ç´¢å¼•/å€¼å¯¹**çš„è¿­ä»£å™¨ï¼š

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/1a3256ed51ed4962adf90e49b842d086.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pWy5Luj56CB55qE5bCP5o-Q55C05omL,size_16,color_FFFFFF,t_70,g_se,x_16)

#### 6.æ•°ç»„å¤åˆ¶ä¸å¡«å……é—®é¢˜



![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/d15476210f1e4b9dbc986137f8d5d056.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pWy5Luj56CB55qE5bCP5o-Q55C05omL,size_17,color_FFFFFF,t_70,g_se,x_16)



```js
const zeros = [0,0,0,0,0];
//zeros.fill(å¡«å……æ•°å­—,å¡«å……ç´¢å¼•èµ·å§‹,å¡«å……ç´¢å¼•ç»“æŸå‰ä¸€ä½);
zeros.fill(7, 1, 3);
console.log(zeros);//[0,7,7,0,0]
```

```js
let ints,
    reset = {} => ints =[0,1,2,3,4,5,6,7,8,9];

//ints.copyWithin(æ’å…¥ä½ç½®çš„ç´¢å¼•,å¤åˆ¶çš„ç´¢å¼•èµ·å§‹,å¤åˆ¶çš„ç´¢å¼•ç»“æŸå‰ä¸€ä½);
ints.copyWithin(4,0,3);//[0,1,2,3, 0,1,2, 7,8,9]
```

#### 7.æ•°ç»„->å­—ç¬¦ä¸²

å¾—åˆ°â€”â€”ä»¥é€—å·åˆ†éš”æ•°ç»„å€¼çš„å­—ç¬¦ä¸²

- `toLocaleString()`
- `toString()`
- `æ•°ç»„.valueOf()`

å¾—åˆ°â€”â€”ä»¥ä¼ å…¥å‚æ•°åˆ†å‰²æ•°ç»„å€¼çš„å­—ç¬¦ä¸²

> è€Œ `åŒ…è£…å¯¹è±¡å®ä¾‹.valueOf()` åˆ™è¿”å›åŒ…è£…å¯¹è±¡å®ä¾‹å¯¹åº”çš„åŸå§‹ç±»å‹çš„å€¼
>
> ```js
> new Number(123).valueOf()  // 123
> new String('abc').valueOf() // "abc"
> new Boolean(true).valueOf() // true
> ```

- `join("xxx")`



#### 8.æ•°ç»„çš„æ ˆæ–¹æ³•

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/118c90aad04e420ea95dbe5868e2af8a.png)



#### 9.æ•°ç»„çš„é˜Ÿåˆ—æ–¹å¼

å°±åªæœ‰ å…¥é˜Ÿåˆ—çš„æ–¹æ³•ä¸æ ˆä¸åŒ å…¶ä»–æ–¹æ³•æ˜¯ä¸€æ ·çš„

ä½¿ç”¨shift

æ’å…¥åˆ°é˜Ÿå¤´



#### 10.æ•°ç»„æ’åºæ–¹æ³• sort

sort è¿™ä¸ªsortæœ‰ä¸ªå‘ æ‰€ä»¥ä¸€èˆ¬ä¸ç›´æ¥ç”¨ 

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/a4cb8f58a27f482ba15f6124bfaacb7e.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pWy5Luj56CB55qE5bCP5o-Q55C05omL,size_16,color_FFFFFF,t_70,g_se,x_16)

æ³¨æ„å­—ç¬¦ä¸²æ’åºçš„å°ç»†èŠ‚

æ ¹æ®ASCIIå€¼æ¥æ¯”è¾ƒ æ‰€ä»¥å°å†™å­—æ¯aä¼šåœ¨å¤§å†™å­—æ¯Zåé¢

![image-20211201112720327](https://gitee.com/su-fangzhou/blog-image/raw/master/202112011127503.png)

#### 11.æ•°ç»„çš„æ“ä½œæ–¹æ³•-å¢åŠ å…ƒç´  å•ç‹¬åˆ‡ä¸€æ®µå…ƒç´  æ’å…¥å…ƒç´  concat slice splice

- `concat()`

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/ae3411e563ea4818af0be79c79571d76.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pWy5Luj56CB55qE5bCP5o-Q55C05omL,size_15,color_FFFFFF,t_70,g_se,x_16)

ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„ç”¨æ³•â€”â€”ç”¨æ¥åˆå¹¶å¤šä¸ªæ•°ç»„&æ•°å­—(ä¾‹å­æ¥è‡ªMDN)

```js
var alpha = ['a', 'b', 'c'];
var alphaNumeric = alpha.concat(1, [2, 3]);
console.log(alphaNumeric);
// results in ['a', 'b', 'c', 1, 2, 3]
// å¯ä»¥ç”¨æ¥è¿æ¥æ•°å­—/æ•°ç»„
```



- `slice()`

![è¯·æ·»åŠ å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/72702c8f27664677964f4c08582cb9dd.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pWy5Luj56CB55qE5bCP5o-Q55C05omL,size_15,color_FFFFFF,t_70,g_se,x_16)



- `splice()`

![è¯·æ·»åŠ å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/562f8ba16eb742e39d20baafbd23ba49.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pWy5Luj56CB55qE5bCP5o-Q55C05omL,size_15,color_FFFFFF,t_70,g_se,x_16)

ç®€å•æ¥è¯´å°±æ˜¯åˆ é™¤/æ’å…¥ ç„¶åæ ¹æ®è¿™ä¿©åŠŸèƒ½è‡ªç„¶å°±å¯ä»¥åšå‡ºæ¥æ›¿æ¢å’¯~ æ¥çœ‹çœ‹JS

![image-20211201095959983](https://gitee.com/su-fangzhou/blog-image/raw/master/202112011000116.png)



#### 12.æœç´¢æ•°ç»„ä¸­å…ƒç´ çš„ä½ç½® indexOf

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/80a68236760b480dbc2ddd50c896d519.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pWy5Luj56CB55qE5bCP5o-Q55C05omL,size_15,color_FFFFFF,t_70,g_se,x_16)



#### 13.è¿­ä»£æ–¹æ³• - å„ç§é«˜çº§æ“ä½œ filter map forEach

è¶…çº§å¥½ç”¨çš„å‡ ä¸ªæ–¹æ³•ï¼

- `every()`
- `some()`
- `filter()`

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/ca565154c7664d0a8c01b45a30397477.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pWy5Luj56CB55qE5bCP5o-Q55C05omL,size_17,color_FFFFFF,t_70,g_se,x_16)

- `map()`
- `forEach()`

![è¯·æ·»åŠ å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/b16fc430c789416aaeb99134b28a7cd5.png)

#### 14.å½’å¹¶æ–¹æ³• reduce

- `reduce()`

è¿™é‡Œçš„reduceçš„ç¬¬ä¸€ä¸ªå‚æ•° prevè¦æ³¨æ„

å¦‚æœæ±‚å’Œæ—¶  ä¸€èˆ¬ä¼šç»™å…¶èµ·åä¸ºtotal ç”¨äºå­˜å‚¨æˆªè‡³æ­¤æ—¶çš„å’Œ 

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/0ccc715666954883ad908dff58bff2a7.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pWy5Luj56CB55qE5bCP5o-Q55C05omL,size_15,color_FFFFFF,t_70,g_se,x_16)



#### 15.Mapé›†åˆç±»å‹çš„åŸºæœ¬API

æ˜ç¡®Mapå®ä¾‹çš„æ ¼å¼ ä¸º é”®å€¼å¯¹ 

```js
const map = new Map([
    ["key1", "val1"],
    ["key2", "val2"],
    ["key3", "val3"]
])
```

- set() æ·»åŠ é”®å€¼å¯¹
- get() è·å¾—æŸä¸ªé”®çš„å€¼
- has() æŸ¥è¯¢æ˜¯å¦æœ‰è¿™ä¸ªé”®
- `.size()` è·å–é”®å€¼å¯¹æ•°é‡
- delete() åˆ é™¤æŸä¸ªé”®å€¼å¯¹
- clear() æ¸…é™¤æ˜ å°„å®ä¾‹ä¸­çš„æ‰€æœ‰é”®å€¼å¯¹
- [entries()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map/entries) è¿”å›ä¸€ä¸ªæ–°çš„åŒ…å« `[key, value]` å¯¹çš„ `Iterator` å¯¹è±¡ï¼Œè¿”å›çš„è¿­ä»£å™¨çš„è¿­ä»£é¡ºåºä¸ `Map` å¯¹è±¡çš„æ’å…¥é¡ºåºç›¸åŒã€‚
- [forEach()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map/forEach) æŒ‰ç…§æ’å…¥é¡ºåºä¾æ¬¡å¯¹ `Map` ä¸­æ¯ä¸ªé”®/å€¼å¯¹æ‰§è¡Œä¸€æ¬¡ç»™å®šçš„å‡½æ•°
- [values()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Map/values)å®ƒåŒ…å«æŒ‰é¡ºåºæ’å…¥Mapå¯¹è±¡ä¸­æ¯ä¸ªå…ƒç´ çš„valueå€¼ã€‚

ä¸¾ä¾‹ï¼š

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/a78321c557bb42b797bd84877bc5fe04.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBA5pWy5Luj56CB55qE5bCP5o-Q55C05omL,size_18,color_FFFFFF,t_70,g_se,x_16)

å¦å¤– ä¸Objectåªèƒ½ä½¿ç”¨æ•°å€¼ã€å­—ç¬¦ä¸²ã€ç¬¦å·ä½œä¸ºé”®ä¸åŒ

Mapå¯ä»¥ä½¿ç”¨**ä»»ä½•JSæ•°æ®ç±»å‹**ä½œä¸ºé”®ï¼ï¼ï¼ˆè¿™ä¹Ÿæ˜¯ä¸ºå•¥ES6è¦åˆ›é”®è¿™ä¸ªé›†åˆç±»å‹ï¼‰



- å¦å¤–æ³¨æ„ Mapå®ä¾‹å¯¹è±¡2ä¸ªæœ‰è¶£çš„ç‰¹æ€§ï¼š

  - ä¸€ä¸ªkeyæ”¾å…¥å¤šä¸ªvalue â€”â€” è¦†ç›–åŸå…ˆçš„value

  ```js
  var m = new Map();
  m.set('Adam', 67);
  m.set('Adam', 88);
  m.get('Adam');//88
  ```

  å¯ä»¥çœ‹å‡º keyæ˜¯ä¸å…è®¸é‡å¤çš„ï¼è¿™ä¹Ÿç¬¦åˆå“ˆå¸Œè¡¨ç‰¹æ€§

  ä½†æ˜¯é‡å¤äº†ä¹Ÿä¸ä¼šå‡ºé”™ è‡ªåŠ¨å°±è¦†ç›–æ‰äº†

  - å€¼é‡å¤å°±æ²¡å•¥äº‹å„¿ï¼ˆé‚£è‚¯å®šçš„å˜›ï¼‰

  ![è¯·æ·»åŠ å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/b7e9d37dcc56444085727559a46704ef.png)

#### 16.è¿­ä»£Mapå®ä¾‹ï¼ˆæŒ‰ç…§æ’å…¥é¡ºåºï¼‰

p191

åˆçœ‹åˆ°äº† .entries() è¿­ä»£å™¨æ–¹æ³•ï¼

â€”â€”å¯ä»¥è¿”å›key value

#### 17.Seté›†åˆç±»å‹çš„åŸºæœ¬API 

è·ŸMapçš„å¤§å¤šæ•°API å’Œ è¡Œä¸º éƒ½æ˜¯å…±æœ‰çš„

ä¹Ÿæ˜¯ä¸€ç»„keyçš„é›†åˆï¼Œä½†**ä¸å­˜å‚¨value**ã€‚                  

- è¦åˆ›å»ºä¸€ä¸ª`Set`ï¼Œéœ€è¦æä¾›ä¸€ä¸ª`Array`ä½œä¸ºè¾“å…¥ï¼Œæˆ–è€…ç›´æ¥åˆ›å»ºä¸€ä¸ªç©º`Set`ï¼š

```js
var s1 = new Set(); // ç©ºSet
var s2 = new Set([1, 2, 3]); // å«1, 2, 3
//å…¶å®è·Ÿmapçš„åˆå§‹åŒ–æ–¹æ³•æ˜¯ä¸€æ ·çš„ å°±æ˜¯åˆå§‹åŒ–å†…å®¹ä¸åŒè€Œå·²
```

ç”±äºkeyä¸èƒ½é‡å¤ï¼Œæ‰€ä»¥ï¼Œåœ¨`Set`ä¸­ï¼Œkeyæ˜¯æ— æ³•åƒMapå®ä¾‹ä¸­ä¸€æ · å¯ä»¥è¦†ç›–çš„ï¼

- `.size`
- `has()` åˆ¤æ–­æœ‰æ²¡æœ‰è¿™ä¸ªå…ƒç´ 
- `clear()`
- `add()` ä¸mapçš„setæ·»åŠ ä¸€ç»„é”®å€¼å¯¹ä¸åŒ setæ·»åŠ ä¸ªå…ƒç´ å°±å¥½äº†



#### 18.applyæ–¹æ³•çš„ä½¿ç”¨

é€šè¿‡ [apply() æ–¹æ³•](https://www.w3school.com.cn/js/js_function_apply.asp)ï¼Œæ‚¨èƒ½å¤Ÿç¼–å†™ç”¨äºä¸åŒå¯¹è±¡çš„æ–¹æ³•ã€‚ï¼ˆä¸call()æ–¹æ³•éå¸¸ç±»ä¼¼,åªæœ‰ä¼ å‚æ—¶æœ‰åŒºåˆ«ï¼‰

##### æ–¹æ³•é‡ç”¨

```js
var person = {
  fullName: function() {
    return this.firstName + "è°ƒç”¨æˆåŠŸ" + this.lastName;
  }
}
var person1 = {
  firstName:"Bill",
  lastName: "Gates"
}
person.fullName.apply(person1); // Billè°ƒç”¨æˆåŠŸGates
```



```js
var person = {
  fullName: function(city, country) {
    return this.firstName + " " + this.lastName + "," + city + "," + country;
  }
}
var person1 = {
  firstName:"Bill",
  lastName: "Gates"
}
// è¿˜å¯ä»¥ä¼ å‚è¿›å»å“ˆï¼ä¸callä¸åŒäºå‚æ•°çš„ç±»å‹ ä¸º æ•°ç»„
person.fullName.apply(person1, ["Seatle", "USA"]); // Bill Gates,Seatle,USA
```

##### å¯ç”¨äºåœ¨æ•°ç»„ä¸Šæ¨¡æ‹Ÿmaxæ–¹æ³•

æ‚¨å¯ä»¥ä½¿ç”¨ `Math.max()` æ–¹æ³•æ‰¾åˆ°ï¼ˆæ•°å­—åˆ—è¡¨ä¸­çš„ï¼‰æœ€å¤§æ•°å­—ï¼š

ç”±äº JavaScript æ•°ç»„æ²¡æœ‰ max() æ–¹æ³•ï¼Œå› æ­¤æ‚¨å¯ä»¥åº”ç”¨ `Math.max.apply()` æ–¹æ³•ã€‚

```js
Math.max(1,2,3);

let arr = [1,2,3]
Math.max.apply(null, arr); // ä¹Ÿä¼šè¿”å› 3 æ³¨æ„ï¼šç¬¬ä¸€ä¸ªå‚æ•°å¡«å•¥æ²¡å½±å“çš„ï¼Œæœ¬æ¬¡ä½¿ç”¨ä¸­æ²¡ä»–äº‹å„¿~
```

##### JavaScript ä¸¥æ ¼æ¨¡å¼

åœ¨ JavaScript ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå¦‚æœ apply() æ–¹æ³•çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¸æ˜¯å¯¹è±¡ï¼Œåˆ™å®ƒå°†æˆä¸ºè¢«è°ƒç”¨å‡½æ•°çš„æ‰€æœ‰è€…ï¼ˆå¯¹è±¡ï¼‰ã€‚

åœ¨â€œéä¸¥æ ¼â€æ¨¡å¼ä¸‹ï¼Œå®ƒæˆä¸ºå…¨å±€å¯¹è±¡ã€‚

#### 19.æµ…å¤åˆ¶æ•°ç»„çš„ä¸€éƒ¨åˆ†åˆ°åŒä¸€æ•°ç»„çš„å¦ä¸€ä½ç½® [copyWithin()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/copyWithin)

`copyWithin()` æ–¹æ³•æµ…å¤åˆ¶æ•°ç»„çš„ä¸€éƒ¨åˆ†åˆ°åŒä¸€æ•°ç»„ä¸­çš„å¦ä¸€ä¸ªä½ç½®ï¼Œå¹¶è¿”å›å®ƒï¼Œä¸ä¼šæ”¹å˜åŸæ•°ç»„çš„é•¿åº¦ã€‚

```js
const array1 = ['a', 'b', 'c', 'd', 'e'];

// copy to index 0 the element at index 3
console.log(array1.copyWithin(0, 3, 4));
// expected output: Array ["d", "b", "c", "d", "e"]

// copy to index 1 all elements from index 3 to the end
console.log(array1.copyWithin(1, 3));
// expected output: Array ["d", "d", "e", "d", "e"]
```

ç¥å¥‡çš„æ–¹æ³•~

ä¸ºå•¥ç”¨å‘¢ çœ‹çœ‹JSæ•°æ®ç»“æ„ä¸ç®—æ³•ä¸­æ€ä¹ˆè¯´~

![image-20211201112543252](https://gitee.com/su-fangzhou/blog-image/raw/master/202112011125372.png)

#### 20.[Array.of()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/of)åˆ›å»ºæ–°æ•°ç»„ï¼Œå¤åˆ¶ä¸€ç»´æ•°ç»„çš„æ–¹æ³•

`Array.of()` æ–¹æ³•åˆ›å»ºä¸€ä¸ªå…·æœ‰å¯å˜æ•°é‡å‚æ•°çš„æ–°æ•°ç»„å®ä¾‹ï¼Œè€Œä¸è€ƒè™‘å‚æ•°çš„æ•°é‡æˆ–ç±»å‹ã€‚

 `Array.of()` å’Œ `Array` æ„é€ å‡½æ•°ä¹‹é—´çš„åŒºåˆ«åœ¨äºå¤„ç†æ•´æ•°å‚æ•°ï¼š`Array.of(7)` åˆ›å»ºä¸€ä¸ªå…·æœ‰å•ä¸ªå…ƒç´  **7** çš„æ•°ç»„ï¼Œè€Œ **`Array(7)`** åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º7çš„ç©ºæ•°ç»„ï¼ˆ**æ³¨æ„ï¼š**è¿™æ˜¯æŒ‡ä¸€ä¸ªæœ‰7ä¸ªç©ºä½(empty)çš„æ•°ç»„ï¼Œè€Œä¸æ˜¯ç”±7ä¸ª`undefined`ç»„æˆçš„æ•°ç»„ï¼‰ã€‚

```js
Array.of(7);       // [7]
Array.of(1, 2, 3); // [1, 2, 3]

Array(7);          // [ , , , , , , ]
Array(1, 2, 3);    // [1, 2, 3]
```

å¯ä»¥ç”¨æ¥æµ…å¤åˆ¶ä¸€ä¸ªæ•°ç»„![image-20211201112108110](https://gitee.com/su-fangzhou/blog-image/raw/master/202112011121232.png)

å®˜æ–¹æ–‡æ¡£ä¸­æ²¡æœ‰æåˆ°ç”¨ofæ–¹æ³•è¿›è¡Œå¤åˆ¶çš„æ“ä½œ

ä½†æ˜¯é›€æ°å¯ä»¥~ ä¸‹é¢é¢å°è¯•å¯ä»¥æ¸…æ¥šçœ‹å‡ºæ¥å¤åˆ¶ä¸ºæµ…å¤åˆ¶ï¼

![image-20211201112428211](https://gitee.com/su-fangzhou/blog-image/raw/master/202112011124307.png)



### ç»å…¸æ•°ç»„å»é‡

å¯ä»¥å†™ä¸€ä¸‹ç»å…¸çš„  [217. å­˜åœ¨é‡å¤å…ƒç´ ](https://leetcode-cn.com/problems/contains-duplicate/)  æˆ‘çš„é¢˜è§£â€”â€”[ã€æ•°æ®ç»“æ„å…¥é—¨æ¯æ—¥åˆ·é¢˜æ‰“å¡1/33ã€‘æš´åŠ›éå†ã€å“ˆå¸Œè¡¨ã€æ’åºï¼ˆæ‹“å±•äº†ä¸‹æ‰‹å†™å¿«æ’ æ³¨é‡Šè´¼æ¸…æ¥šï¼ï¼‰ - å­˜åœ¨é‡å¤å…ƒç´  - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ (leetcode-cn.com)](https://leetcode-cn.com/problems/contains-duplicate/solution/xue-xi-ji-hua-shu-ju-jie-gou-ru-men-mei-ho9wm/)

[æ•°ç»„å»é‡12ç§æ–¹æ³•](https://juejin.cn/post/6844903981311852557) - è¿™è¾¹é‡Œåˆ©ç”¨å¯¹è±¡å®ç°å»é‡çš„æ€è·¯æŒºæœ‰æ„æ€çš„ äº®ç‚¹æ˜¯ä¸ç”¨è¾…åŠ©æ•°ç»„ ç›´æ¥åœ¨åŸæ•°ç»„ä¸Šæ“ä½œ æ•°ç»„ç†Ÿç»ƒåº¦++~

#### åˆ©ç”¨è¾…åŠ©å¯¹è±¡æ¨¡æ‹Ÿå“ˆå¸Œè¡¨+ï¼ˆä¸å€ŸåŠ©è¾…åŠ©æ•°ç»„ï¼‰åœ¨åŸæ•°ç»„ä¸Šç›´æ¥å»é‡

```js
let arr = [12,1,12,3,1,88,66,9,66];
function unique(arr) {
    let obj = {};
    for(let i=0;i<arr.length;i++){
        let cur = arr[i];
        if(obj[cur]){// å¦‚æœå½“å‰éå†åˆ°çš„å…ƒç´ ä¹‹å‰ç¢°åˆ°è¿‡ï¼Œè¿›å…¥é€»è¾‘æŠŠå®ƒä»arrä¸­åˆ äº†
            // 01 åˆ é™¤é‡å¤å…ƒç´ æ³•ä¸€
            arr.splice(i,1);// å¯¼è‡´æ•°ç»„å¡Œé™·â€”â€”ç”¨i--çš„æ–¹å¼è§„é¿æ•°ç»„å¡Œé™·ï¼
            // åˆ é™¤é‡å¤å…ƒç´ æ³•äºŒ
            // arr[i]=arr[arr.length-1];// é‡å¤å…ƒç´ çš„å‘ç»™æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ å‹’
            // arr.length--;// åˆ é™¤æœ€åä¸€é¡¹
            console.log(i);// 2 4 6
            // 02 å¯¹é‡å¤å…ƒç´ è¿›è¡Œæ“ä½œä¹‹å æ‰‹åŠ¨å°†ç´¢å¼•å€¼-1 ä¿è¯æ•°ç»„çš„æ¯ä¸€é¡¹éƒ½è¢«éå†~
            i--;// æ³¨æ„ï¼åˆ äº†è¿™ä¸ªå…ƒç´ ä¹‹åå®ƒä¹‹åçš„æ•°ç»„å…ƒç´ éƒ½æå‰å‹’ï¼è¦å€’å›å»ä¸€ä¸ªç´¢å¼•è·å¾—åŸæœ¬çš„ä¸‹ä¸€ä¸ªæ•°ç»„å…ƒç´ ã€‚
            continue;// è·³è¿‡obj[cur] = curï¼Œç»™iåŠ ä¸Š1 è¿›å…¥ä¸‹ä¸€è½®å¾ªç¯ï¼ˆå…¶å®è¿™å¥ä¸åŠ ä¹Ÿæ— æ‰€è°“ï¼Œç»™å¯¹è±¡é‡å¤èµ‹å€¼ä¹Ÿæ²¡å•¥å½±å“~ï¼‰
        }
        obj[cur]=cur;// ç»™objæ–°å¢é”®å€¼å¯¹ï¼›å±æ€§åå’Œå±æ€§å€¼æ˜¯ä¸€æ ·çš„
    }
}
unique(arr);
console.log(arr);// æ³•ä¸€ç­”æ¡ˆ [12, 1, 3, 88, 66, 9] æ³•äºŒç­”æ¡ˆ [12, 1, 66, 3, 9, 88] 
```

### ç»å…¸æ•°ç»„ä¹±åº

#### [å‰ç«¯é¢è¯•(ç®—æ³•ç¯‡) - æ•°ç»„ä¹±åº](https://www.cnblogs.com/wisewrong/p/10517532.html)

> å†™å¾—æŒºå¥½çš„ æ­é… [384. æ‰“ä¹±æ•°ç»„](https://leetcode-cn.com/problems/shuffle-an-array/) é£Ÿç”¨æ›´ä½³
>
> é¦–å…ˆæ˜¯ä¼ªéšæœºçš„ä¸¤ç§æ–¹æ³•

- **éšæœºå–æ•°**

ä»åŸæ•°ç»„ä¸­éšæœºæŠ½å–ä¸€ä¸ªæ•°ï¼Œç„¶åä½¿ç”¨ splice åˆ æ‰è¯¥å…ƒç´ 

```js
function getRandomArrElement(arr, count) {
    let res = []
    while (res.length < count) {
        // ç”Ÿæˆéšæœº index
        let randomIdx = (Math.random() * arr.length) >> 0;
        // splice è¿”å›çš„æ˜¯ä¸€ä¸ªæ•°ç»„
        res.push(arr.splice(randomIdx, 1)[0]);
    }
    return res
}
```

ä¸Šé¢ç”Ÿæˆéšæœº index ç”¨åˆ°äº†æŒ‰ä½å³ç§»æ“ä½œç¬¦ >> 

å½“åé¢çš„æ“ä½œæ•°æ˜¯ 0 çš„æ—¶å€™ï¼Œè¯¥è¯­å¥çš„ç»“æœå°±å’Œ Math.floor() ä¸€æ ·ï¼Œæ˜¯å‘ä¸‹å–æ•´

ä½†ä½æ“ä½œç¬¦æ˜¯åœ¨æ•°å€¼è¡¨ç¤ºçš„æœ€åº•å±‚æ‰§è¡Œæ“ä½œï¼Œå› æ­¤é€Ÿåº¦æ›´å¿«

```js
// æŒ‰ä½å³ç§»
(Math.random() * 100) >> 0

// Math.floor
Math.floor(Math.random() * 100)
/* è¿™ä¸¤ç§å†™æ³•çš„ç»“æœæ˜¯ä¸€æ ·çš„ï¼Œä½†ä½æ“ä½œçš„æ•ˆç‡æ›´é«˜ */
```



- **é€šè¿‡ sort ä¹±åº**

é¦–å…ˆè®¤è¯†ä¸€ä¸‹ [`Array.prototype.sort()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/sort) ä¸äº†è§£çš„æŸ¥çœ‹ä¸‹ è¿™ä¸ªå¿…é¡»æ»šç“œçƒ‚ç†Ÿ

```js
let arr = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9'];
arr.sort((a, b) => 0.5 - Math.random());
```

**ä½†è¿™å¹¶ä¸æ˜¯çœŸæ­£çš„ä¹±åº**ï¼Œè®¡ç®—æœºçš„ random å‡½æ•°å› ä¸ºå¾ªç¯å‘¨æœŸçš„å­˜åœ¨ï¼Œæ— æ³•ç”ŸæˆçœŸæ­£çš„éšæœºæ•°ï¼ˆåŠ›æ‰£é‚£é¢˜ç”¨è¿™ä¸ªæ–¹æ³•ä¹Ÿè·‘ä¸é€šXDï¼‰

- **Fisherâ€“Yates shuffle æ´—ç‰Œç®—æ³•**

> è¿™ä¸ªæ–¹æ³•å¤ªæ¼‚äº®å‹’ï¼
>
> å¦å¤–è¿™ä¸ªä½œè€…çš„å†™æ³•ä¹Ÿå¾ˆæ¼‚äº®ï¼æ£’ï¼

æ´—ç‰Œç®—æ³•çš„æ€è·¯æ˜¯ï¼š

ã€1ã€‘**å…ˆä»æ•°ç»„æœ«å°¾å¼€å§‹ï¼Œé€‰å–æœ€åä¸€ä¸ªå…ƒç´ ï¼Œä¸æ•°ç»„ä¸­éšæœºä¸€ä¸ªä½ç½®çš„å…ƒç´ äº¤æ¢ä½ç½®**

ã€2ã€‘**ç„¶ååœ¨å·²ç»æ’å¥½çš„æœ€åä¸€ä¸ªå…ƒç´ ä»¥å¤–çš„ä½ç½®ä¸­ï¼Œéšæœºäº§ç”Ÿä¸€ä¸ªä½ç½®ï¼Œè®©è¯¥ä½ç½®å…ƒç´ ä¸å€’æ•°ç¬¬äºŒä¸ªå…ƒç´ è¿›è¡Œäº¤æ¢**

ä»¥æ­¤ç±»æ¨ï¼Œæ‰“ä¹±æ•´ä¸ªæ•°ç»„çš„é¡ºåº

```js
function shuffle(arr) {
  let len = arr.length;

  while (len) {
    let i = (Math.random() * len--) >> 0;// è·å¾—éšæœºæ•°
    // äº¤æ¢ä½ç½®
    let temp = arr[len];
    arr[len] = arr[i];
    arr[i] = temp;
  }
  return arr;
}
```

å†ç»“åˆ ES6 çš„è§£æ„èµ‹å€¼ï¼Œä½¿ç”¨æ´—ç‰Œç®—æ³•å°±æ›´æ–¹ä¾¿äº†ï¼š

```js
Array.prototype.shuffle = function() {
    let m = this.length, i;
    while (m) {
        i = (Math.random() * m--) >>> 0;
        [this[m], this[i]] = [this[i], this[m]]
    }
    return this;
}
```

### ç»å…¸æ•°ç»„æ‰å¹³åŒ–

##### ã€1ã€‘æš´åŠ›[toString](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/toString)

å—¯ [`Array.prototype.toString()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/toString) èƒ½è¿™ä¹ˆç”¨æ˜¯æˆ‘æ²¡æƒ³åˆ°çš„

![image-20211210104037900](https://gitee.com/su-fangzhou/blog-image/raw/master/202112101040113.png)

å†éå†ä¸‹æ•°ç»„å¯¹æ•°ç»„å…ƒç´ æŒ¨ä¸ªNumber()ä¸€ä¸‹ å­—ç¬¦ä¸²->æ•´æ•°

##### ã€2ã€‘é€’å½’å®ç°ï¼ˆå¦™å•Šï¼ï¼‰

- ä¸ä½¿ç”¨APIæ¥æ‰“å¹³å¤šç»´æ•°ç»„

> å‚è€ƒï¼šçº¢å®ä¹¦
>
> ç»“åˆä¸‹é¢çš„è¿‡ç¨‹çœ‹ å¾ˆæ¸…æ™°~
>
> ![image-20211211002051241](https://gitee.com/su-fangzhou/blog-image/raw/master/202112110020345.png)

> æœ¬ç®—æ³•çš„é€’å½’è°ƒç”¨è¾¹ç•Œå’Œå¹³å¸¸åŠ›æ‰£ï¼ˆåšäºŒå‰æ ‘/é“¾è¡¨ï¼‰é‡åˆ°çš„ä¸å¤ªç›¸ä¼¼ï¼ˆè®¾ç½®ä¸€ä¸ªé€€å‡ºæ¡ä»¶ï¼‰
>
> æœ¬ç®—æ³•ä¸­ï¼Œåªæœ‰å‰é¢çš„if elseæ‰§è¡Œå®Œäº†ï¼Œæ‰ä¼šå¼¹å‡ºé€’å½’è°ƒç”¨æ ˆ~
>
> ç†è§£è¿™ä¸€ç‚¹ å°±å¾ˆå¥½æƒ³äº†ï¼
>
> > å¦å¤–ï¼Œé€’å½’å‡ºå£ï¼ˆå¼¹æ ˆæ—¶æœºï¼‰â€”â€”`return xxx;`
> >
> > æŠŠè¿™ä¸ªç‚¹æƒ³å¥½ï¼Œä¹Ÿæ˜¯ç†è§£é€’å½’é—®é¢˜çš„å…³é”®ï¼

ã€2ã€‘å‡ºé€’å½’è°ƒç”¨æ ˆæ—¶ 0æ’å…¥ç»“æœæ•°ç»„ï¼ˆ`return flattenedArray`â€”â€”[0]ï¼‰

ç„¶åçš„ä¸€ç»´å…ƒç´ æ²¡æœ‰è¿›å…¥é€’å½’è°ƒç”¨æ ˆ 1 2æ’å…¥ç»“æœæ•°ç»„

ã€3ã€‘å°†å‡½æ•°flatten([3,[4,5]], [0,1,2]) æ’å…¥é€’å½’è°ƒç”¨æ ˆ

ã€4ã€‘è°ƒç”¨flatten([3,[4,5]], [0,1,2]) æ—¶ 3æ’å…¥ç»“æœæ•°ç»„

ã€5ã€‘å°†å‡½æ•°flatten([4,5],[0,1,2,3]) æ’å…¥é€’å½’è°ƒç”¨æ ˆ

ã€6ã€‘å‡ºé€’å½’è°ƒç”¨æ ˆæ—¶ 4 5æ’å…¥ç»“æœæ•°ç»„ï¼ˆ`return flattenedArray`â€”â€”[4,5]ï¼‰

æœ€ç»ˆflatten([3,[4,5]], [0,1,2])å¼¹å‡ºé€’å½’è°ƒç”¨æ ˆï¼ˆè¿™å—å„¿ä¸Šé¢çš„å›¾ä¸å¤ªå¯¹å“ˆï¼ï¼‰ï¼ˆ`return flattenedArray`â€”â€”[0,1,2,3,4,5]ï¼‰

ç„¶åçš„ä¸€ç»´å…ƒç´ æ²¡æœ‰è¿›å…¥é€’å½’è°ƒç”¨æ ˆ æ’å…¥ç»“æœæ•°ç»„6

- é™å®šæ‰“å¹³åˆ°ç¬¬å‡ å±‚åµŒå¥—é€’å½’

> å‚è€ƒ çº¢å®ä¹¦
>
> ![image-20211210102302950](https://gitee.com/su-fangzhou/blog-image/raw/master/202112101023106.png)

##### ã€3ã€‘è°ƒAPIå˜› ä¸ä¸¢äºº

- è°ƒç”¨ES2019çš„æ–°API flat~~

`arr.flat(Infinity)`å¯ä»¥æ‰å¹³åŒ–ä¸ç®¡å¤šæ·±çš„å¤šç»´æ•°ç»„~

![image-20211210104430763](https://gitee.com/su-fangzhou/blog-image/raw/master/202112101044876.png)

- è¿˜æœ‰ä¸€ä¸ªæ²¡å’‹è§è¿‡çš„flatMap()æ“ä½œhhh

![image-20211210105104415](https://gitee.com/su-fangzhou/blog-image/raw/master/202112101051544.png)





## Objectç±»å‹ç›¸å…³çŸ¥è¯†ï¼ŒåŠå¸¸è§api

### å¯¹è±¡

> å¯¹è±¡æ˜¯éå¸¸é‡è¦çš„æ¦‚å¿µ

æˆ‘ä»¬æŠŠå¯¹è±¡ç†è§£ä¸ºï¼š**å­˜æ”¾å±æ€§çš„å®¹å™¨**

- å¸¸ç”¨çš„å†…ç½®å¯¹è±¡ï¼šMath **JSON** Map Set Array

  - JSONæ˜¯åºåˆ—åŒ–ä¼ è¾“æ•°æ®çš„æ–¹å¼ï¼ˆæ˜¯ä¸€ä¸ªæ•°æ®æ ¼å¼ï¼‰

    - `JSON.stringify()` æ–¹æ³•å°†ä¸€ä¸ª JavaScript å¯¹è±¡æˆ–å€¼**è½¬æ¢ä¸º JSON å­—ç¬¦ä¸²**

      - ```JS
        console.log(JSON.stringify({ x: 5, y: 6 }));
        // expected output: "{"x":5,"y":6}"
        
        console.log(JSON.stringify([new Number(3), new String('false'), new Boolean(false)]));
        // expected output: "[3,"false",false]"
        
        console.log(JSON.stringify({ x: [10, undefined, function(){}, Symbol('')] }));
        // expected output: "{"x":[10,null,null,null]}"
        
        console.log(JSON.stringify(new Date(2006, 0, 2, 15, 4, 5)));
        // expected output: ""2006-01-02T15:04:05.000Z""
        ```

    - `JSON.parse()` æ–¹æ³•ç”¨æ¥**è§£æJSONå­—ç¬¦ä¸²**ï¼Œæ„é€ ç”±å­—ç¬¦ä¸²æè¿°çš„JavaScriptå€¼æˆ–å¯¹è±¡

      - ```js
        const json = '{"result":true, "count":42}';
        const obj = JSON.parse(json);
        
        console.log(obj.count);
        // expected output: 42
        
        console.log(obj.result);
        // expected output: true
        ```
  
- å®¿ä¸»å¯¹è±¡

  - æµè§ˆå™¨å®¿ä¸»ï¼šWindowã€Historyã€Location
  - Nodeå®¿ä¸»ï¼šglobalç­‰



### JavaScript toString() æ–¹æ³•

toStringæ–¹æ³•åœ¨Objectçš„æ˜¾ç¤ºåŸå‹ä¸Šï¼Œå…¶ä»–å¯¹è±¡å¯¹toStringæ–¹æ³•è¿›è¡Œäº†é‡å†™~

![image-20211118191137192](https://gitee.com/su-fangzhou/blog-image/raw/master/202111181911262.png)



toString() æ–¹æ³•å¯æŠŠä¸€ä¸ª Number å¯¹è±¡è½¬æ¢ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¹¶è¿”å›ç»“æœã€‚

è¯­æ³•

```js
NumberObject.toString(radix)// radixå°±æ˜¯æŒ‡è¿›åˆ¶æ•°
```

æ¯”è¾ƒæœ‰è¶£çš„ä¸€ä¸ªç‚¹

![image-20211118184251915](https://gitee.com/su-fangzhou/blog-image/raw/master/202111181842996.png)

å°æ•°å±…ç„¶ç®—æ˜¯`NumberObject`â€¦ï¼Ÿ ==å­˜ç–‘ï¼==

çœ‹äº†ä¸‹MDN [Number.prototype.toString()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number/toString) ä¾æ—§å›°æƒ‘ã€‚æš‚ä¸”è®°ä½å¥½äº† 

- (10) æ˜¯ numObj  10ä¸æ˜¯
- (0.6) æ˜¯ numObj 0.6ä¹Ÿæ˜¯numObj

![image-20211118191027604](https://gitee.com/su-fangzhou/blog-image/raw/master/202111181910721.png)

> ```js
> var count = 10;
> 
> console.log(count.toString());    // è¾“å‡º '10'
> console.log((17).toString());     // è¾“å‡º '17'
> console.log(17.toString());     // Uncaught SyntaxError: Invalid or unexpected token
> console.log((17.2).toString());   // è¾“å‡º '17.2'
> console.log(17.2.toString());   // è¾“å‡º '17.2'
> 
> var x = 6;
> 
> console.log(x.toString(2));       // è¾“å‡º '110'
> console.log((254).toString(16));  // è¾“å‡º 'fe'
> 
> console.log((-10).toString(2));   // è¾“å‡º '-1010'
> console.log((-0xff).toString(2)); // è¾“å‡º '-11111111'
> ```
>
> åˆæ¥äº†ä¸ªç¥å¥‡çš„æ“ä½œ
>
> ```js
> 10..toString();// è¾“å‡º"10"  
> ```
>
> å¬å‰è¾ˆè¯´è¿™ä¸ªæ˜¯å› ä¸º . æŒ‡ä»£ä¸æ˜ç¡®

- åˆ©ç”¨è¿™ä¸ªæ–¹æ³• é…åˆ [`substr()`æ–¹æ³•](https://www.runoob.com/jsref/jsref-substr.html) å¯ä»¥å®ç°**éšæœºéªŒè¯ç ç”Ÿæˆ**

```js
Math.random().toString(36).substr(2, 10);// ä»¥36è¿›åˆ¶å°†éšæœºæ•°è½¬æ¢ä¸ºéšæœºå­—ç¬¦ä¸²ï¼Œä»å¾—åˆ°çš„éšæœºå­—ç¬¦ä¸²çš„ç¬¬äºŒä½å¼€å§‹æ‹¿10ä¸ªå­—ç¬¦~æ ¹æœ¬é‡å¤ä¸äº†ï¼
```

ä»¥36è¿›åˆ¶å°†éšæœºæ•°è½¬æ¢ä¸ºéšæœºå­—ç¬¦ä¸²ï¼Œä»å¾—åˆ°çš„éšæœºå­—ç¬¦ä¸²çš„ç¬¬äºŒä½å¼€å§‹æ‹¿10ä¸ªå­—ç¬¦~æ ¹æœ¬é‡å¤ä¸äº†ï¼

![image-20211118184717386](https://gitee.com/su-fangzhou/blog-image/raw/master/202111181847459.png)

## å‡½æ•°ã€ç±»ç›¸å…³

### åŸå‹ä¸åŸå‹é“¾



### ç»§æ‰¿é—®é¢˜

> é€šè¿‡åŸå‹é“¾å®ç°å­ç±»å¯¹çˆ¶ç±»çš„ç»§æ‰¿
>
> `Child.prototype = new Father();`
>
> åˆ«å¿˜äº†ä¿®æ­£Childç±»æ˜¾ç¤ºåŸå‹çš„`constructor`
>
> `Child.prototype.constructor = Child`

#### ç»§æ‰¿æ¨¡å¼

* åŸå‹é“¾ç»§æ‰¿ : å¾—åˆ°æ–¹æ³•

  * é€šè¿‡`Child.prototype = new Parent()`ç»§æ‰¿çˆ¶å‡½æ•° ä»è€Œç»§æ‰¿äº†å±æ€§ä¸æ–¹æ³•
  * ç¼ºç‚¹ï¼šé€šè¿‡Childæ„é€ çš„å¯¹è±¡ çš„åŸå‹å¯¹è±¡ çš„ `constructor` å±æ€§æŒ‡å‘Parentï¼è¿™ä¸å¥½ï¼
    * æˆ‘ä»¬éœ€è¦è®©å­ç±»å‹çš„åŸå‹çš„ `constructor`  æŒ‡å‘å­ç±»å‹ æ‰å¯¹ï¼
    * è¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡ `Child.prototype.constructor = Child;` æ¥ä¿®æ­£constructorå±æ€§

  ```js
  function Parent(){}
  Parent.prototype.test = function(){};
  function Child(){}
  Child.prototype = new Parent(); // å­ç±»å‹çš„åŸå‹æŒ‡å‘çˆ¶ç±»å‹å®ä¾‹
  Child.prototype.constructor = Child;// ä¿®æ­£constructorå±æ€§
  var child = new Child(); //æœ‰test()
  ```

* å€Ÿç”¨æ„é€ å‡½æ•° : å¾—åˆ°å±æ€§

  * é€šè¿‡ `Parent.call(this,name,age)` ç»§æ‰¿ï¼ˆè°ƒç”¨çˆ¶ç±»å‹æ„é€ å‡½æ•°ï¼‰
  * ç¼ºç‚¹ï¼šè·å¾—çˆ¶ç±»å‹çš„æ–¹æ³•å¾ˆéº»çƒ¦ï¼è¿˜å¾—å€ŸåŠ©callæ–¹æ³•ä¸€ä¸ªä¸ªåœ°å¼„ `Parent.func.call(this,å‚æ•°)`

  ```js
  function Parent(xxx){this.xxx = xxx}
  Parent.prototype.test = function(){};
  function Child(xxx,yyy){
      Parent.call(this, xxx);//å€Ÿç”¨æ„é€ å‡½æ•°   this.Parent(xxx)
      // ç›¸å½“äº this.Parent(xxx)
  }
  var child = new Child('a', 'b');  //child.xxxä¸º'a', ä½†childæ²¡æœ‰test()
  ```

* ç»„åˆ

  ```js
  function Parent(xxx){this.xxx = xxx}
  Parent.prototype.test = function(){};
  function Child(xxx,yyy){
      Parent.call(this, xxx);//å€Ÿç”¨æ„é€ å‡½æ•°   this.Parent(xxx)
  }
  Child.prototype = new Parent(); //å¾—åˆ°test()
  var child = new Child(); //child.xxxä¸º'a', ä¹Ÿæœ‰test()
  ```



##### JSå®ç°ç»§æ‰¿çš„æœ€ä½³å®è·µ

> ä½¿ç”¨ åŸå‹é“¾ç»“åˆæ„é€ å‡½æ•°
>
> åœ¨çˆ¶ç±»å‹å±æ€§æœ‰å¾ˆå¤šæ¡æ—¶ ä½¿ç”¨ `Parent.call(this,çˆ¶å‡½æ•°å±æ€§)` è®©å­ç±»å‹ç»§æ‰¿

```js
function Parent(attribute,other){
    this.attribute = attribute;
    this.other = other;
}
Parent.prototype.output = function(){
    console.log("æ­¤æ–¹æ³•ä½äºParentçš„æ˜¾å¼åŸå‹ä¸­  Childæ„é€ å‡½æ•°ç»§æ‰¿äº†æˆ‘ æ‰€ä»¥Childçš„å®ä¾‹å¯¹è±¡å¯ä»¥é¡ºç€éšå¼åŸå‹è¿æ‰¾åˆ°è¿™ä¸ªå¯¹è±¡ï¼ˆåœ¨Objectå¯¹è±¡ä¸Šï¼‰");
}
function Child(attribute, other){
    Parent.call(this,attribute,other);// ç»§æ‰¿çˆ¶ç±»å‹çš„å±æ€§
}
Child.prototype = new Parent();// åŸå‹é“¾ç»§æ‰¿ï¼è®©å­ç±»å‹çš„æ˜¾å¼åŸå‹æŒ‡å‘çˆ¶ç±»å‹çš„å®ä¾‹ï¼
Child.prototype.constructor = Child;// å‡ºäºä¸¥è°¨ è¿™é‡Œä¿®æ­£constructorå±æ€§ è¦ä¸ç„¶Childçš„æ˜¾å¼åŸå‹çš„constructorå°±æ˜¯Parentäº† è¿™å°±å¾ˆå¥‡æ€ªï¼
var child = new Child('a', 'b');// ['a', 'b']
child.output();
```

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/73bdd1e607af4508870095cf0d8ffd98.png)

ä¸Šé¢çš„å±æ€§çš„è¾“å‡ºæœ‰äº›é—®é¢˜

JSç»§æ‰¿æœ€ä½³å®è·µå®Œæ•´ç‰ˆè¾“å‡ºå¦‚ä¸‹ï¼š

![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/12053e2fc0e9454696d32fcf45227495.png)

å¥½å§ä¸Šé¢çš„è¿˜æ˜¯ä¸å…¨ æœ‰ç‚¹å°é—®é¢˜â€”â€”

```js
Child.prototype.constructor = Child;// å‡ºäºä¸¥è°¨ è¿™é‡Œä¿®æ­£constructorå±æ€§ è¦ä¸ç„¶Childçš„æ˜¾å¼åŸå‹çš„constructorå°±æ˜¯Parentäº† è¿™å°±å¾ˆå¥‡æ€ªï¼
// ä¿®æ­£å®Œ constructoræŒ‡å‘Childæ„é€ å‡½æ•°
```



### thiså…³é”®å­—

> `this` ä¼šä½œä¸ºå˜é‡**ä¸€ç›´å‘ä¸Šçº§è¯æ³•ä½œç”¨åŸŸæŸ¥æ‰¾**ï¼Œç›´è‡³æ‰¾åˆ°ä¸ºæ­¢
>
> -[Vueå®˜æ–¹æ–‡æ¡£](https://cn.vuejs.org/v2/guide/instance.html)

#### [MDNæ–‡æ¡£å­¦ä¹ ](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Arrow_functions)

##### ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisæŒ‡é’ˆï¼Œæ¢ç©¶å…¶é€šè¿‡ call æˆ– apply è°ƒç”¨åçš„å±€é™æ€§

> [Function.prototype.call()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/call)
>
> `call()` æ–¹æ³•**ä½¿ç”¨ä¸€ä¸ªæŒ‡å®šçš„ `this` å€¼**å’Œå•ç‹¬ç»™å‡ºçš„ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°æ¥**è°ƒç”¨ä¸€ä¸ªå‡½æ•°**ã€‚
>
> è¯¥æ–¹æ³•çš„è¯­æ³•å’Œä½œç”¨ä¸ [`apply()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/apply) æ–¹æ³•ç±»ä¼¼ï¼Œåªæœ‰ä¸€ä¸ªåŒºåˆ«ï¼Œå°±æ˜¯ `call()` æ–¹æ³•æ¥å—çš„æ˜¯**ä¸€ä¸ªå‚æ•°åˆ—è¡¨**ï¼Œè€Œ `apply()` æ–¹æ³•æ¥å—çš„æ˜¯**ä¸€ä¸ªåŒ…å«å¤šä¸ªå‚æ•°çš„æ•°ç»„**ã€‚
>
> ```js
> function.call(thisArg, arg1, arg2, ...)
> ```
>
> - thisArg
>
> å¯é€‰çš„ã€‚**åœ¨ *`function`* å‡½æ•°è¿è¡Œæ—¶ä½¿ç”¨çš„ `this` å€¼ã€‚**
>
> > è¯·æ³¨æ„ï¼Œ`this`å¯èƒ½ä¸æ˜¯è¯¥æ–¹æ³•çœ‹åˆ°çš„å®é™…å€¼ï¼šå¦‚æœè¿™ä¸ªå‡½æ•°å¤„äº[éä¸¥æ ¼æ¨¡å¼](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Strict_mode)ä¸‹ï¼Œåˆ™æŒ‡å®šä¸º `null` æˆ– `undefined` æ—¶ä¼šè‡ªåŠ¨æ›¿æ¢ä¸ºæŒ‡å‘å…¨å±€å¯¹è±¡ï¼ŒåŸå§‹å€¼ä¼šè¢«åŒ…è£…ã€‚
>
> - arg1, arg2, ...
>
> æŒ‡å®šçš„å‚æ•°åˆ—è¡¨ã€‚

ç”±äº ç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„thisæŒ‡é’ˆï¼Œé€šè¿‡ `call()` *æˆ–* `apply()` æ–¹æ³•è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œåªèƒ½ä¼ é€’å‚æ•°ï¼ˆ**ä¸èƒ½ç»‘å®šthis**---è¯‘è€…æ³¨ï¼‰ï¼Œä»–ä»¬çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¼šè¢«å¿½ç•¥ã€‚ï¼ˆè¿™ç§ç°è±¡<u>å¯¹äºbindæ–¹æ³•åŒæ ·æˆç«‹</u>---è¯‘è€…æ³¨ï¼‰

ä¸¾ä¸ªä¾‹å­å°±çŸ¥é“äº†

```js
var adder = {
    base: 1,
    
    add:function(a){
        var f = value => value + this.base;
        return f(a);// thisArgæœªæŒ‡å®šåˆ™é»˜è®¤æŒ‡å‘å…¨å±€å¯¹è±¡adder
    },
    addThruCall:function(a){
        var b = {base: 666};
        var f = value => value + this.base;// å¦‚æœè¿™é‡Œæ˜¯ä¸ªæ™®é€šå‡½æ•°ï¼Œåˆ™è¿›è¡Œcallæ—¶ï¼Œå°†ç»™bè¿™ä¸ªå¯¹è±¡è°ƒç”¨fæ–¹æ³•ï¼Œbaseä¸º666
        return f.call(b, a);
    }
}
console.log(adder.add(1));// 2(adder.base + 1)
console.log(adder.addThruCall(1));// 2(ä¾ç„¶æ˜¯adder.baseï¼ˆè€Œä¸æ˜¯b.ï¼‰ + 1)
```



#### é˜®å¤§æ•™ç¨‹ ååŸºç¡€ï¼Œååº•å±‚åŸç†ï¼Œä¾‹å­å¾ˆç®€å•

thisæŒ‡å‘**å‡½æ•°è¿è¡Œæ—¶æ‰€åœ¨çš„ç¯å¢ƒ**ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆthiså…³é”®å­—æœ‰è¿™æ ·çš„ä½œç”¨ï¼Ÿå‡½æ•°çš„è¿è¡Œç¯å¢ƒæ˜¯å¦‚ä½•å†³å®šçš„ï¼Ÿçœ‹çœ‹é˜®ä¸€å³°å¤§å¤§å†™å¾—è¿™ç¯‡æ–‡ç« ï¼Œä½ ä¼šæœ‰æ–°çš„æ„Ÿæ‚Ÿï¼ï¼ˆçœŸçš„è®©æˆ‘å¯¹å†…å­˜ã€å¯¹è±¡ç­‰çŸ¥è¯†éƒ½æœ‰äº†æ–°çš„è®¤è¯†ï¼ï¼‰

[ã€é˜®å¤§ã€‘JavaScript çš„ this åŸç†](https://www.ruanyifeng.com/blog/2018/06/javascript-this.html)

ç²˜ä¸€ä¸‹thisçš„å®šä¹‰ï¼š

> ç”±äºå‡½æ•°å¯ä»¥åœ¨ä¸åŒçš„è¿è¡Œç¯å¢ƒæ‰§è¡Œï¼Œæ‰€ä»¥éœ€è¦æœ‰ä¸€ç§æœºåˆ¶ï¼Œèƒ½å¤Ÿåœ¨å‡½æ•°ä½“å†…éƒ¨è·å¾—å½“å‰çš„**è¿è¡Œç¯å¢ƒ**ï¼ˆcontextï¼‰ã€‚æ‰€ä»¥ï¼Œ`this`å°±å‡ºç°äº†ï¼Œå®ƒçš„è®¾è®¡ç›®çš„å°±æ˜¯**åœ¨å‡½æ•°ä½“å†…éƒ¨ï¼ŒæŒ‡ä»£å‡½æ•°å½“å‰çš„è¿è¡Œç¯å¢ƒ**ã€‚

#### å‰è¾ˆç¬”è®° ä¾‹å­å¾ˆå¤šï¼Œåšå®Œä»¥åé¢è¯•é¢˜åº”è¯¥æ˜¯ä¸æ€•äº†ï¼

[thisåˆ°åº•æŒ‡å‘å“ªé‡Œï¼Ÿ](https://note.youdao.com/ynoteshare/index.html?id=b2fab3b044aa90033395df0c8c9ca3a4&type=note&_time=1634385217314)

> åœ¨JavaScriptä¸­`this`çš„æŒ‡å‘æ€»æ˜¯è®©äººå¾ˆå›°æƒ‘ï¼Œå®ƒåˆ°åº•æŒ‡çš„å•¥ï¼Ÿã€‚`this`åœ¨ä¸åŒçš„æ‰§è¡Œç¯å¢ƒï¼Œä¸åŒçš„ç”¨æ³•ä¸‹ä¼šæœ‰æ‰€ä¸åŒï¼Œä»¥ä¸‹åˆ†å‡ ç§æƒ…å†µï¼Œè®¨è®º`this`çš„æŒ‡å‘ã€‚
>
> - ##### thisåœ¨å…¨å±€ä½œç”¨åŸŸä¸­
>
> - ##### thisåœ¨å‡½æ•°(function)é‡Œ
>
> - ##### åœ¨æ„é€ å‡½æ•°é‡Œçš„thisæŒ‡å‘
>
> - ##### åœ¨äº‹ä»¶å¤„ç†å™¨(event handler)ä¸­thisçš„æŒ‡å‘
>



> æ€»ç»“ï¼š
>
> - å¯¹äºå‡½æ•°ä¸­çš„`this`ï¼Œé€šè¿‡æŸ¥çœ‹`()`å·¦è¾¹æ‰€å±çš„å¯¹è±¡å»ç¡®å®šï¼ŒçœŸçš„å¾ˆå¥½ç”¨ã€‚
> - å®è´¨ä¸Šï¼Œ`this`æ˜¯åœ¨åˆ›å»ºå‡½æ•°çš„æ‰§è¡Œç¯å¢ƒæ—¶ï¼Œåœ¨åˆ›å»ºé˜¶æ®µç¡®å®šçš„ï¼Œå› æ­¤ï¼Œå¼„é€æ‰§è¡Œç¯å¢ƒï¼Œå»æ€è€ƒæ‰§è¡Œç¯å¢ƒåˆ›å»ºé˜¶æ®µçš„`this`çš„æŒ‡å‘ï¼Œ`this`çš„æŒ‡å‘å°±ä¸ä¼šå¼„é”™äº†
>
> > é›€æ°ï¼åœ¨ä½¿ç”¨newå…³é”®å­—åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå…¶ä¸­ä¸€æ­¥å°±æ˜¯â€œæ„é€ å‡½æ•°å†…éƒ¨çš„thisè¢«èµ‹å€¼ä¸ºè¿™ä¸ªåˆ›å»ºå¥½çš„æ–°å¯¹è±¡ï¼ˆå³thisæŒ‡å‘æ–°å¯¹è±¡ï¼‰â€ï¼ˆå‚è€ƒçº¢å®ä¹¦ï¼‰
> >
> > ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/2e9199be6e1d40df92a1d69246930628.png)



#### [æ·±å…¥ç†è§£JSå‡½æ•°ä¸­thisæŒ‡é’ˆçš„æŒ‡å‘](https://www.cnblogs.com/zjjDaily/p/9482958.html)

> åˆæ˜¯ä¸€ç¯‡å‰è¾ˆçš„æ–‡ç« ï¼Œä¾‹å­å’Œæƒ…æ™¯éƒ½å¾ˆå…¨é¢ï¼
>



> å°ç»“ï¼š
>
> å‡½æ•°åœ¨æ‰§è¡Œæ—¶ï¼Œä¼šåœ¨å‡½æ•°ä½“å†…éƒ¨è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªthisæŒ‡é’ˆã€‚è°**ç›´æ¥è°ƒç”¨äº§ç”Ÿè¿™ä¸ªthisæŒ‡é’ˆçš„å‡½æ•°**ï¼Œthiså°±æŒ‡å‘è°ã€‚
>
> ç”±äºjsæ˜¯é‡‡ç”¨çš„é™æ€ä½œç”¨åŸŸï¼ˆä¹Ÿå«è¯æ³•ä½œç”¨åŸŸï¼‰ï¼Œè¿™å°±æ„å‘³ç€å‡½æ•°çš„æ‰§è¡Œä¾èµ–äº**å‡½æ•°å®šä¹‰çš„æ—¶å€™**æ‰€äº§ç”Ÿï¼ˆè€Œä¸æ˜¯å‡½æ•°è°ƒç”¨çš„æ—¶å€™äº§ç”Ÿï¼‰çš„**å˜é‡ä½œç”¨åŸŸ**ã€‚
>
> åœ¨å…¨å±€ä½œç”¨åŸŸä¸­â€œå®šä¹‰â€ä¸€ä¸ªå‡½æ•°çš„æ—¶å€™ï¼Œåªä¼šåˆ›å»ºåŒ…å«å…¨å±€ä½œç”¨åŸŸçš„ä½œç”¨åŸŸé“¾ã€‚åªæœ‰â€œæ‰§è¡Œâ€è¯¥å‡½æ•°çš„æ—¶å€™ï¼Œæ‰ä¼šå¤åˆ¶åˆ›å»ºæ—¶çš„ä½œç”¨åŸŸï¼Œå¹¶å°†å½“å‰å‡½æ•°çš„å±€éƒ¨ä½œç”¨åŸŸæ”¾åœ¨ä½œç”¨åŸŸé“¾çš„é¡¶ç«¯ã€‚
>
> å»å–å˜é‡å€¼çš„æ—¶å€™ï¼Œé¦–å…ˆçœ‹æœ¬å‡½æ•°é‡Œæœ‰æ²¡æœ‰è¯¥å€¼ï¼Œå¦‚æœæ²¡æœ‰å†åˆ°å‡½æ•°å®šä¹‰çš„å¤–éƒ¨å»æ‰¾

## åŸå‹ã€åŸå‹é“¾

#### è·å–å¯¹è±¡åŸå‹çš„æ–¹æ³•

æ¯ä¸€ä¸ªæ„é€ å‡½æ•°çš„å†…éƒ¨éƒ½æœ‰ä¸€ä¸ª prototype å±æ€§ï¼Œå®ƒçš„å±æ€§å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡åŒ…å«äº†å¯ä»¥ç”±è¯¥æ„é€ å‡½æ•°çš„æ‰€æœ‰å®ä¾‹å…±äº«çš„å±æ€§å’Œæ–¹æ³•ã€‚

å½“ä½¿ç”¨æ„é€ å‡½æ•°æ–°å»ºä¸€ä¸ªå¯¹è±¡åï¼Œåœ¨è¿™ä¸ªå¯¹è±¡çš„å†…éƒ¨å°†åŒ…å«ä¸€ä¸ªæŒ‡é’ˆï¼Œè¿™ä¸ª**æŒ‡é’ˆ**<u>æŒ‡å‘æ„é€ å‡½æ•°çš„ prototype å±æ€§å¯¹åº”çš„å€¼</u>ï¼Œåœ¨ ES5 ä¸­è¿™ä¸ªæŒ‡é’ˆè¢«ç§°ä¸ºå¯¹è±¡çš„åŸå‹ã€‚

æµè§ˆå™¨ä¸­å®ç°äº† `__proto__` å±æ€§æ¥è®¿é—®è¿™ä¸ªå±æ€§ï¼Œä½†æ˜¯æœ€å¥½ä¸è¦ä½¿ç”¨è¿™ä¸ªå±æ€§ï¼Œå› ä¸ºå®ƒä¸æ˜¯è§„èŒƒä¸­è§„å®šçš„ã€‚

ES5 ä¸­**æ–°å¢äº†ä¸€ä¸ª `Object.getPrototypeOf()` æ–¹æ³•ï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªæ–¹æ³•æ¥è·å–å¯¹è±¡çš„åŸå‹**ã€‚

#### åˆ¤æ–­å±æ€§æ˜¯å¦å±äºåŸå‹é“¾çš„å±æ€§

ä½¿ç”¨[`hasOwnProperty()`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty)æ–¹æ³•æ¥åˆ¤æ–­å±æ€§æ˜¯å¦å±äºåŸå‹é“¾çš„å±æ€§ï¼š

> `hasOwnProperty()` æ–¹æ³•ä¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼ŒæŒ‡ç¤ºå¯¹è±¡è‡ªèº«å±æ€§ä¸­æ˜¯å¦å…·æœ‰æŒ‡å®šçš„å±æ€§ï¼ˆä¹Ÿå°±æ˜¯ï¼Œæ˜¯å¦æœ‰æŒ‡å®šçš„**é”®**ï¼‰ã€‚

```js
function iterate(obj){
   var res=[];
   for(var key in obj){
        if(obj.hasOwnProperty(key))
           res.push(key+': '+obj[key]);
   }
   return res;
} 
```

è¿™ä¸æ¯”åˆ¤æ–­åŸå‹é“¾å•¥çš„çœè„‘å­hhï¼ˆå½“ç„¶æ–¹æ³•è¿˜æ˜¯å¾—é¡ºç€åŸå‹é“¾æ‰¾å’¯ï¼‰

#### [Object.prototype.isPrototypeOf()](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/isPrototypeOf)

`isPrototypeOf()` æ–¹æ³•ç”¨äºæµ‹è¯•ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å­˜åœ¨äºå¦ä¸€ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸Šã€‚

> `isPrototypeOf()` ä¸ [`instanceof`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/instanceof) è¿ç®—ç¬¦ä¸åŒã€‚åœ¨è¡¨è¾¾å¼ "`object instanceof AFunction`"ä¸­ï¼Œ`object` çš„åŸå‹é“¾æ˜¯é’ˆå¯¹ `AFunction.prototype` è¿›è¡Œæ£€æŸ¥çš„ï¼Œè€Œä¸æ˜¯é’ˆå¯¹ `AFunction` æœ¬èº«ã€‚

æœ¬ç¤ºä¾‹å±•ç¤ºäº† `Baz.prototype`, `Bar.prototype`, `Foo.prototype` å’Œ `Object.prototype` åœ¨ `baz` å¯¹è±¡çš„åŸå‹é“¾ä¸Šï¼š

```js
function Foo() {}
function Bar() {}
function Baz() {}

Bar.prototype = Object.create(Foo.prototype);
Baz.prototype = Object.create(Bar.prototype);

var baz = new Baz();

console.log(Baz.prototype.isPrototypeOf(baz)); // true
console.log(Bar.prototype.isPrototypeOf(baz)); // true
console.log(Foo.prototype.isPrototypeOf(baz)); // true
console.log(Object.prototype.isPrototypeOf(baz)); // true
```

## é—­åŒ…ã€ä½œç”¨åŸŸç›¸å…³ï¼ˆé¢è¯•æ‰‹å†™é¢˜å¸¸å®¢ï¼‰

#### å¯¹é—­åŒ…[Scope](https://developer.mozilla.org/zh-CN/docs/Glossary/Scope)çš„ç†è§£

å¦å¤–ä¹‹å‰å†™è¿‡ä¸€ç¯‡å…¥é—¨çº§çš„æ–‡ç«  [ä»å‡½æ•°æå‡è°ˆåˆ°é—­åŒ…~](https://juejin.cn/post/7013941043116638239)

é—­åŒ…æ˜¯æŒ‡**æœ‰æƒè®¿é—®å¦ä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸä¸­å˜é‡**çš„å‡½æ•°ï¼Œåˆ›å»ºé—­åŒ…çš„æœ€å¸¸è§çš„æ–¹å¼å°±æ˜¯åœ¨ä¸€ä¸ªå‡½æ•°å†…åˆ›å»ºå¦ä¸€ä¸ªå‡½æ•°ï¼Œåˆ›å»ºçš„å‡½æ•°å¯ä»¥è®¿é—®åˆ°å½“å‰å‡½æ•°çš„å±€éƒ¨å˜é‡ã€‚

- æ¯”å¦‚ï¼Œå‡½æ•° A å†…éƒ¨æœ‰ä¸€ä¸ªå‡½æ•° Bï¼Œå‡½æ•° B å¯ä»¥è®¿é—®åˆ°å‡½æ•° A ä¸­çš„å˜é‡ï¼Œé‚£ä¹ˆå‡½æ•° B å°±æ˜¯é—­åŒ…ã€‚

```js
function A() {
  let a = 1
  window.B = function () {
      console.log(a)
  }
}
A()
B() // 1
```

åœ¨ JS ä¸­ï¼Œé—­åŒ…å­˜åœ¨çš„æ„ä¹‰å°±æ˜¯è®©æˆ‘ä»¬å¯ä»¥é—´æ¥è®¿é—®å‡½æ•°å†…éƒ¨çš„å˜é‡ã€‚

![image-20211123091543037](https://gitee.com/su-fangzhou/blog-image/raw/master/202111230915179.png)

- ç»å…¸é¢è¯•é¢˜ï¼šå¾ªç¯ä¸­ä½¿ç”¨é—­åŒ…è§£å†³ var å®šä¹‰å‡½æ•°çš„é—®é¢˜

```js
for (var i = 1; i <= 5; i++) {
  setTimeout(function timer() {
    console.log(i)
  }, i * 1000)
}
```

é¦–å…ˆå› ä¸º `setTimeout` æ˜¯ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œæ‰€ä»¥ä¼šå…ˆæŠŠå¾ªç¯å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ï¼Œè¿™æ—¶å€™ `i` å°±æ˜¯ 6 äº†ï¼Œæ‰€ä»¥ä¼šè¾“å‡ºä¸€å † 6ã€‚è§£å†³åŠæ³•æœ‰ä¸‰ç§ï¼š

- ç¬¬ä¸€ç§æ˜¯ä½¿ç”¨é—­åŒ…çš„æ–¹å¼

```js
for (var i = 1; i <= 5; i++) {
  (function(j) {
    setTimeout(function timer() {
      console.log(j)
    }, j * 1000)
  })(i)
}
```

åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œé¦–å…ˆä½¿ç”¨äº†ç«‹å³æ‰§è¡Œå‡½æ•°å°† `i` ä¼ å…¥å‡½æ•°å†…éƒ¨ï¼Œè¿™ä¸ªæ—¶å€™å€¼å°±è¢«å›ºå®šåœ¨äº†å‚æ•° `j` ä¸Šé¢ä¸ä¼šæ”¹å˜ï¼Œå½“ä¸‹æ¬¡æ‰§è¡Œ `timer` è¿™ä¸ªé—­åŒ…çš„æ—¶å€™ï¼Œå°±å¯ä»¥ä½¿ç”¨å¤–éƒ¨å‡½æ•°çš„å˜é‡ `j`ï¼Œä»è€Œè¾¾åˆ°ç›®çš„ã€‚

- ç¬¬äºŒç§å°±æ˜¯ä½¿ç”¨ `setTimeout` çš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°ä¼šè¢«å½“æˆ `timer` å‡½æ•°çš„å‚æ•°ä¼ å…¥ã€‚

```js
for (var i = 1; i <= 5; i++) {
  setTimeout(
    function timer(j) {
      console.log(j)
    },
    i * 1000,
    i
  )
}
```

- ç¬¬ä¸‰ç§å°±æ˜¯ä½¿ç”¨ `let` å®šä¹‰ `i` äº†æ¥è§£å†³é—®é¢˜äº†ï¼Œè¿™ä¸ªä¹Ÿæ˜¯æœ€ä¸ºæ¨èçš„æ–¹å¼

```js
for (let i = 1; i <= 5; i++) {
  setTimeout(function timer() {
    console.log(i)
  }, i * 1000)
}
```

#### é—­åŒ…ä½•æ—¶è¢«é”€æ¯ï¼Ÿ-åƒåœ¾å›æ”¶æœºåˆ¶

ç ”ç©¶é—­åŒ…çš„æ—¶å€™å¾ˆå¥½å¥‡ï¼Œå•¥æ—¶å€™é—­åŒ…è¢«é”€æ¯ï¼Ÿ

æœ€ç»ˆç»“è®º-å¦‚æœæ²¡æœ‰ç‰¹æ®Šçš„åƒåœ¾å›æ”¶ç®—æ³•ï¼ˆæš‚æ—¶æ²¡æœ‰æœç´¢åˆ°æœ‰è¿™ç§ç®—æ³•ï¼‰ä¼šé€ æˆé—­åŒ…å¸¸é©»ï¼é™¤éæ‰‹åŠ¨è®¾ç½®ä¸ºnull å¦åˆ™å°±ä¼šé€ æˆå†…å­˜æ³„éœ²ï¼

 æŸ¥é˜…å®˜æ–¹æ–‡æ¡£â€”â€”

> é«˜çº§è¯­è¨€è§£é‡Šå™¨åµŒå…¥äº†â€œåƒåœ¾å›æ”¶å™¨â€ï¼Œå®ƒçš„ä¸»è¦å·¥ä½œæ˜¯è·Ÿè¸ªå†…å­˜çš„åˆ†é…å’Œä½¿ç”¨ï¼Œä»¥ä¾¿å½“åˆ†é…çš„å†…å­˜ä¸å†ä½¿ç”¨æ—¶ï¼Œè‡ªåŠ¨é‡Šæ”¾å®ƒã€‚è¿™åªèƒ½æ˜¯ä¸€ä¸ªè¿‘ä¼¼çš„è¿‡ç¨‹ï¼Œå› ä¸ºè¦çŸ¥é“æ˜¯å¦ä»ç„¶éœ€è¦æŸå—å†…å­˜æ˜¯[æ— æ³•åˆ¤å®šçš„](http://en.wikipedia.org/wiki/Decidability_(logic))ï¼ˆæ— æ³•é€šè¿‡æŸç§ç®—æ³•è§£å†³ï¼‰ã€‚
>
> â€œåƒåœ¾å›æ”¶å®ç°åªèƒ½æœ‰é™åˆ¶çš„è§£å†³ä¸€èˆ¬é—®é¢˜ï¼Œåƒåœ¾å›æ”¶ç®—æ³•ä¸»è¦ä¾èµ–äºå¼•ç”¨çš„æ¦‚å¿µã€‚â€

ä¸¾ä¸ªä¾‹å­ï¼ˆæ¥è‡ªå®˜æ–¹æ–‡æ¡£ï¼Œæˆ‘åŠ äº†ä¸€äº›æ³¨é‡Šï¼‰

```js
var o = {
  a: {
    b:2
  }
};
// ä¸‹é¢æåˆ°çš„"è¿™ä¸ªå¯¹è±¡" å³ä¸º {a:{b:2}}
// ä¸¤ä¸ªå¯¹è±¡è¢«åˆ›å»ºï¼Œä¸€ä¸ªä½œä¸ºå¦ä¸€ä¸ªçš„å±æ€§è¢«å¼•ç”¨ï¼Œå¦ä¸€ä¸ªè¢«åˆ†é…ç»™å˜é‡o
// å¾ˆæ˜¾ç„¶ï¼Œæ²¡æœ‰ä¸€ä¸ªå¯ä»¥è¢«åƒåœ¾æ”¶é›†

var o2 = o; // o2å˜é‡æ˜¯ç¬¬äºŒä¸ªå¯¹â€œè¿™ä¸ªå¯¹è±¡â€çš„å¼•ç”¨

o = 1;      // ç°åœ¨ï¼Œâ€œè¿™ä¸ªå¯¹è±¡â€åªæœ‰ä¸€ä¸ªo2å˜é‡çš„å¼•ç”¨äº†ï¼Œâ€œè¿™ä¸ªå¯¹è±¡â€çš„åŸå§‹å¼•ç”¨oï¼ˆåŸæ¥æ˜¯å¯¹è±¡{a:{b:2}}ï¼Œç°åœ¨æ˜¯ä¸ªæ•°å€¼å‹ï¼Œç›´æ¥æ‰”æ ˆé‡Œå°±å¯ä»¥äº†ï¼ï¼‰å·²ç»æ²¡æœ‰

var oa = o2.a; // å¼•ç”¨â€œè¿™ä¸ªå¯¹è±¡â€çš„aå±æ€§
               // ç°åœ¨ï¼Œâ€œè¿™ä¸ªå¯¹è±¡â€æœ‰ä¸¤ä¸ªå¼•ç”¨äº†ï¼Œä¸€ä¸ªæ˜¯o2ï¼Œä¸€ä¸ªæ˜¯oa

o2 = "yo"; // è™½ç„¶æœ€åˆçš„å¯¹è±¡ç°åœ¨å·²ç»æ˜¯é›¶å¼•ç”¨äº†ï¼Œå¯ä»¥è¢«åƒåœ¾å›æ”¶äº†
           // ä½†æ˜¯å®ƒçš„å±æ€§açš„å¯¹è±¡è¿˜åœ¨è¢«oaå¼•ç”¨ï¼Œæ‰€ä»¥è¿˜ä¸èƒ½å›æ”¶

oa = null; // aå±æ€§çš„é‚£ä¸ªå¯¹è±¡ç°åœ¨ä¹Ÿæ˜¯é›¶å¼•ç”¨äº†
           // å®ƒå¯ä»¥è¢«åƒåœ¾å›æ”¶äº†
```





#### å¯¹ä½œç”¨åŸŸã€ä½œç”¨åŸŸé“¾çš„ç†è§£

##### 1ï¼‰å…¨å±€ä½œç”¨åŸŸå’Œå‡½æ•°ä½œç”¨åŸŸ

ï¼ˆ1ï¼‰å…¨å±€ä½œç”¨åŸŸ

- æœ€å¤–å±‚å‡½æ•°å’Œæœ€å¤–å±‚å‡½æ•°å¤–é¢å®šä¹‰çš„å˜é‡æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸ
- æ‰€æœ‰æœªå®šä¹‰ç›´æ¥èµ‹å€¼çš„å˜é‡è‡ªåŠ¨å£°æ˜ä¸ºå…¨å±€ä½œç”¨åŸŸ
- æ‰€æœ‰windowå¯¹è±¡çš„å±æ€§æ‹¥æœ‰å…¨å±€ä½œç”¨åŸŸ
- å…¨å±€ä½œç”¨åŸŸæœ‰**å¾ˆå¤§çš„å¼Šç«¯**ï¼Œè¿‡å¤šçš„å…¨å±€ä½œç”¨åŸŸå˜é‡ä¼šæ±¡æŸ“å…¨å±€å‘½åç©ºé—´ï¼Œå®¹æ˜“å¼•èµ·å‘½åå†²çªã€‚

ï¼ˆ2ï¼‰å‡½æ•°ä½œç”¨åŸŸ

- å‡½æ•°ä½œç”¨åŸŸå£°æ˜åœ¨å‡½æ•°å†…éƒ¨çš„å˜é‡ï¼Œä¸€èˆ¬åªæœ‰å›ºå®šçš„ä»£ç ç‰‡æ®µå¯ä»¥è®¿é—®åˆ°
- ä½œç”¨åŸŸæ˜¯åˆ†å±‚çš„ï¼Œå†…å±‚ä½œç”¨åŸŸå¯ä»¥è®¿é—®å¤–å±‚ä½œç”¨åŸŸï¼Œåä¹‹ä¸è¡Œ

##### 2ï¼‰å—çº§ä½œç”¨åŸŸ

- ä½¿ç”¨ES6ä¸­æ–°å¢çš„letå’ŒconstæŒ‡ä»¤å¯ä»¥å£°æ˜å—çº§ä½œç”¨åŸŸï¼Œå—çº§ä½œç”¨åŸŸå¯ä»¥åœ¨å‡½æ•°ä¸­åˆ›å»ºä¹Ÿå¯ä»¥åœ¨ä¸€ä¸ªä»£ç å—ä¸­åˆ›å»ºï¼ˆç”±`{ }`åŒ…è£¹çš„ä»£ç ç‰‡æ®µï¼‰
- letå’Œconstå£°æ˜çš„å˜é‡ä¸ä¼šæœ‰å˜é‡æå‡ï¼Œä¹Ÿä¸å¯ä»¥é‡å¤å£°æ˜
- åœ¨å¾ªç¯ä¸­æ¯”è¾ƒé€‚åˆç»‘å®šå—çº§ä½œç”¨åŸŸï¼Œè¿™æ ·å°±å¯ä»¥æŠŠå£°æ˜çš„è®¡æ•°å™¨å˜é‡é™åˆ¶åœ¨å¾ªç¯å†…éƒ¨ã€‚



##### 3ï¼‰**ä½œç”¨åŸŸé“¾ï¼š**

åœ¨å½“å‰ä½œç”¨åŸŸä¸­æŸ¥æ‰¾æ‰€éœ€å˜é‡ï¼Œä½†æ˜¯è¯¥ä½œç”¨åŸŸæ²¡æœ‰è¿™ä¸ªå˜é‡ï¼Œé‚£è¿™ä¸ªå˜é‡å°±æ˜¯è‡ªç”±å˜é‡ã€‚å¦‚æœåœ¨è‡ªå·±ä½œç”¨åŸŸæ‰¾ä¸åˆ°è¯¥å˜é‡å°±å»çˆ¶çº§ä½œç”¨åŸŸæŸ¥æ‰¾ï¼Œä¾æ¬¡å‘ä¸Šçº§ä½œç”¨åŸŸæŸ¥æ‰¾ï¼Œç›´åˆ°è®¿é—®åˆ°windowå¯¹è±¡å°±è¢«ç»ˆæ­¢ï¼Œè¿™ä¸€å±‚å±‚çš„å…³ç³»å°±æ˜¯ä½œç”¨åŸŸé“¾ã€‚



ä½œç”¨åŸŸé“¾çš„ä½œç”¨æ˜¯**ä¿è¯å¯¹æ‰§è¡Œç¯å¢ƒæœ‰æƒè®¿é—®çš„æ‰€æœ‰å˜é‡å’Œå‡½æ•°çš„æœ‰åºè®¿é—®ï¼Œé€šè¿‡ä½œç”¨åŸŸé“¾ï¼Œå¯ä»¥è®¿é—®åˆ°å¤–å±‚ç¯å¢ƒçš„å˜é‡å’Œå‡½æ•°ã€‚**



ä½œç”¨åŸŸé“¾çš„æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæŒ‡å‘å˜é‡å¯¹è±¡çš„æŒ‡é’ˆåˆ—è¡¨ã€‚å˜é‡å¯¹è±¡æ˜¯ä¸€ä¸ªåŒ…å«äº†æ‰§è¡Œç¯å¢ƒä¸­æ‰€æœ‰å˜é‡å’Œå‡½æ•°çš„å¯¹è±¡ã€‚ä½œç”¨åŸŸé“¾çš„å‰ç«¯å§‹ç»ˆéƒ½æ˜¯å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ã€‚å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡çš„å˜é‡å¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯å…¨å±€å¯¹è±¡ï¼‰å§‹ç»ˆæ˜¯ä½œç”¨åŸŸé“¾çš„æœ€åä¸€ä¸ªå¯¹è±¡ã€‚



å½“æŸ¥æ‰¾ä¸€ä¸ªå˜é‡æ—¶ï¼Œå¦‚æœå½“å‰æ‰§è¡Œç¯å¢ƒä¸­æ²¡æœ‰æ‰¾åˆ°ï¼Œå¯ä»¥æ²¿ç€ä½œç”¨åŸŸé“¾å‘åæŸ¥æ‰¾ã€‚

####  å¯¹æ‰§è¡Œä¸Šä¸‹æ–‡çš„ç†è§£

##### 1. æ‰§è¡Œä¸Šä¸‹æ–‡ç±»å‹

**ï¼ˆ1ï¼‰å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡**

ä»»ä½•**ä¸åœ¨å‡½æ•°å†…éƒ¨çš„**éƒ½æ˜¯å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå®ƒé¦–å…ˆä¼š**åˆ›å»ºä¸€ä¸ªå…¨å±€çš„windowå¯¹è±¡**ï¼Œå¹¶ä¸”**è®¾ç½®thisçš„å€¼ç­‰äºè¿™ä¸ªå…¨å±€å¯¹è±¡**ï¼Œä¸€ä¸ªç¨‹åºä¸­åªæœ‰ä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚

**ï¼ˆ2ï¼‰å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡**

å½“ä¸€ä¸ªå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œå°±ä¼šä¸ºè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œå‡½æ•°çš„ä¸Šä¸‹æ–‡å¯ä»¥æœ‰ä»»æ„å¤šä¸ªã€‚

##### 2. æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ

- **JavaScriptå¼•æ“**ä½¿ç”¨æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆæ¥ç®¡ç†æ‰§è¡Œä¸Šä¸‹æ–‡
- å½“JavaScriptæ‰§è¡Œä»£ç æ—¶ï¼Œé¦–å…ˆé‡åˆ°å…¨å±€ä»£ç ï¼Œä¼šã€1ã€‘åˆ›å»ºä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡å¹¶ä¸”å‹å…¥æ‰§è¡Œæ ˆä¸­ï¼Œæ¯å½“é‡åˆ°ä¸€ä¸ªå‡½æ•°è°ƒç”¨ï¼Œå°±ä¼šã€2ã€‘ä¸ºè¯¥å‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„æ‰§è¡Œä¸Šä¸‹æ–‡å¹¶å‹å…¥æ ˆé¡¶ï¼Œ**å¼•æ“ä¼šæ‰§è¡Œä½äºæ‰§è¡Œä¸Šä¸‹æ–‡æ ˆé¡¶çš„å‡½æ•°**ï¼Œå½“å‡½æ•°æ‰§è¡Œå®Œæˆä¹‹åï¼Œã€3ã€‘æ‰§è¡Œä¸Šä¸‹æ–‡ä»æ ˆä¸­å¼¹å‡ºï¼Œã€4ã€‘ç»§ç»­æ‰§è¡Œä¸‹ä¸€ä¸ªä¸Šä¸‹æ–‡ã€‚å½“æ‰€æœ‰çš„ä»£ç éƒ½æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œä»ã€5ã€‘æ ˆä¸­å¼¹å‡ºå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ã€‚

```js
let a = 'Hello World!';
function first() {
  console.log('Inside first function');// 1
  second();// 2
  console.log('Again inside first function');// 3
}
function second() {
  console.log('Inside second function');
}
first();
//æ‰§è¡Œé¡ºåº
//å…ˆæ‰§è¡Œsecond(),å†æ‰§è¡Œfirst()-è¿™é‡Œå­˜ç–‘ è™½è¯´secondå‡½æ•°ç¡®å®æ˜¯åœ¨æ ˆé¡¶å§ï¼
```

##### 3. åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡

åˆ›å»ºæ‰§è¡Œä¸Šä¸‹æ–‡æœ‰ä¸¤ä¸ªé˜¶æ®µï¼š**åˆ›å»ºé˜¶æ®µ**å’Œ**æ‰§è¡Œé˜¶æ®µ**

**1ï¼‰åˆ›å»ºé˜¶æ®µ**

ï¼ˆ1ï¼‰**thisç»‘å®š**

- åœ¨å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ï¼ŒthisæŒ‡å‘å…¨å±€å¯¹è±¡ï¼ˆwindowå¯¹è±¡ï¼‰
- åœ¨å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ï¼Œ**thisæŒ‡å‘å–å†³äºå‡½æ•°å¦‚ä½•è°ƒç”¨**ã€‚å¦‚æœå®ƒ**è¢«ä¸€ä¸ªå¼•ç”¨å¯¹è±¡è°ƒç”¨ï¼Œé‚£ä¹ˆ this ä¼šè¢«è®¾ç½®æˆé‚£ä¸ªå¯¹è±¡**ï¼ˆ`let func = new Fn()`è¿™é‡Œæ„é€ å‡½æ•°ä¸­çš„thiså°±è¢«è®¾ç½®ä¸ºè¿™ä¸ªå®ä¾‹å¯¹è±¡äº†ï¼ï¼‰ï¼Œå¦åˆ™ this çš„å€¼è¢«è®¾ç½®ä¸ºå…¨å±€å¯¹è±¡æˆ–è€… undefined

> ä¸‹é¢è¿™ä¿©æ²¡å¬è¯´è¿‡çš„è¯´
>
> ï¼ˆ2ï¼‰**åˆ›å»ºè¯æ³•ç¯å¢ƒç»„ä»¶**
>
> - è¯æ³•ç¯å¢ƒæ˜¯ä¸€ç§æœ‰**æ ‡è¯†ç¬¦â€”â€”å˜é‡æ˜ å°„**çš„æ•°æ®ç»“æ„ï¼Œæ ‡è¯†ç¬¦æ˜¯æŒ‡å˜é‡/å‡½æ•°åï¼Œå˜é‡æ˜¯å¯¹å®é™…å¯¹è±¡æˆ–åŸå§‹æ•°æ®çš„å¼•ç”¨ã€‚
> - è¯æ³•ç¯å¢ƒçš„å†…éƒ¨æœ‰ä¸¤ä¸ªç»„ä»¶ï¼š**åŠ ç²—æ ·å¼**ï¼šç¯å¢ƒè®°å½•å™¨:ç”¨æ¥å‚¨å­˜å˜é‡ä¸ªå‡½æ•°å£°æ˜çš„å®é™…ä½ç½®**å¤–éƒ¨ç¯å¢ƒçš„å¼•ç”¨**ï¼šå¯ä»¥è®¿é—®çˆ¶çº§ä½œç”¨åŸŸ
>
> ï¼ˆ3ï¼‰**åˆ›å»ºå˜é‡ç¯å¢ƒç»„ä»¶**
>
> - å˜é‡ç¯å¢ƒä¹Ÿæ˜¯ä¸€ä¸ªè¯æ³•ç¯å¢ƒï¼Œå…¶ç¯å¢ƒè®°å½•å™¨æŒæœ‰å˜é‡å£°æ˜è¯­å¥åœ¨æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­åˆ›å»ºçš„ç»‘å®šå…³ç³»ã€‚

**2ï¼‰æ‰§è¡Œé˜¶æ®µ**

æ­¤é˜¶æ®µä¼š**å®Œæˆå¯¹å˜é‡çš„åˆ†é…**ï¼Œæœ€åæ‰§è¡Œå®Œä»£ç ã€‚



**ç®€å•æ¥è¯´æ‰§è¡Œä¸Šä¸‹æ–‡å°±æ˜¯æŒ‡ï¼š**

åœ¨æ‰§è¡Œä¸€ç‚¹JSä»£ç ä¹‹å‰ï¼Œéœ€è¦å…ˆ**è§£æä»£ç **ã€‚è§£æçš„æ—¶å€™ä¼šã€1ã€‘å…ˆåˆ›å»ºä¸€ä¸ªå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œå…ˆã€2ã€‘æŠŠä»£ç ä¸­å³å°†æ‰§è¡Œçš„å˜é‡ã€å‡½æ•°å£°æ˜éƒ½æ‹¿å‡ºæ¥ï¼Œã€3ã€‘å˜é‡å…ˆèµ‹å€¼ä¸ºundefinedï¼Œã€4ã€‘å‡½æ•°å…ˆå£°æ˜å¥½å¯ä½¿ç”¨ã€‚è¿™ä¸€æ­¥æ‰§è¡Œå®Œäº†ï¼Œæ‰ã€5ã€‘å¼€å§‹æ­£å¼çš„æ‰§è¡Œç¨‹åºã€‚



åœ¨ä¸€ä¸ªå‡½æ•°æ‰§è¡Œä¹‹å‰ï¼Œä¹Ÿä¼šåˆ›å»ºä¸€ä¸ªå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œè·Ÿå…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ç±»ä¼¼ï¼Œä¸è¿‡å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ä¼šå¤šå‡ºthisã€argumentså’Œå‡½æ•°çš„å‚æ•°ã€‚

- å…¨å±€ä¸Šä¸‹æ–‡ï¼šå˜é‡å®šä¹‰ï¼Œå‡½æ•°å£°æ˜
- å‡½æ•°ä¸Šä¸‹æ–‡ï¼šå˜é‡å®šä¹‰ï¼Œå‡½æ•°å£°æ˜ï¼Œ`this`ï¼Œ`arguments`



#### é™æ€ä½œç”¨åŸŸçš„ä¸¤é“åŸºç¡€é¢˜

##### é¢è¯•é¢˜è€ƒå¯Ÿé™æ€æ€§-é¢è¯•é¢˜1

```js
var x = 10;
function fn(){
    console.log(x);// 10
}
function show(f){
    var x = 20;
    f();
}
show(fn);// æ‰“å°10
```

è®°ä½ä¸€å¥è¯â€”â€”

**åœ¨å…¶ä»–å‡½æ•°ä¸­è¢«è°ƒç”¨ä¸å½±å“xåœ¨æ‰“å°è¯­å¥ä¸­çš„å€¼**ï¼ˆxåœ¨ä¸€å¼€å§‹å®šä¹‰çš„æ—¶å€™å°±ç¡®å®šäº† æ‰“å°çš„xæ˜¯å…¨å±€ä¸­çš„ï¼ˆæ¯•ç«Ÿæ˜¯åœ¨äººå®¶å…¨å±€é‚£é‡Œè°ƒç”¨çš„å‡½æ•°showå˜›~ï¼‰ï¼‰

> 21/10/17 æ›´æ–° æ„Ÿè§‰å¯ä»¥ç”¨æ‰§è¡Œä¸Šä¸‹æ–‡æ¥è§£é‡Šï¼Ÿæ¯•ç«Ÿæ¶‰åŠåˆ°äº†å‡½æ•°è°ƒç”¨ï¼Œå¾ˆåŠ¨æ€~
>
> ![åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°](https://img-blog.csdnimg.cn/ff59c44a23bb42559efe8cb41512d7c8.png)

> 21/10/31æ›´æ–°
>
> åˆè§åˆ°äº†ä¸€æ¬¡è¿™é“é¢˜
>
> æ„Ÿè§‰ä¸Šé¢çš„è¯´æ³•å¯èƒ½æœ‰ä¸€å®šé“ç†ï¼Œä½†æ˜¯ä½œç”¨åŸŸçš„â€œé™æ€æ€§â€æ‰æ˜¯æœ€æƒå¨è§£é‡Šâ€”â€”åœ¨è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œè¦æ‰¾åˆ°å®ƒæœ€å¼€å§‹è¢«åˆ›å»ºæ—¶çš„ä½ç½®ï¼Œè¿›è¡Œå¯»å€¼

##### ä½œç”¨åŸŸé“¾é¢è¯•é¢˜~æ²¿ç€ä½œç”¨åŸŸé“¾æ‰¾æŸä¸ªå˜é‡-é¢è¯•é¢˜2

```js
var fn = function () {
    console.log(fn)//function(){console.log(fn)}
    var fn2 = function(){
      	console.log("æ‰¾ä¸åˆ°æˆ‘å§~");
    }
}
fn()

var obj = {
    fn2: function () {
        console.log(fn2)// æŠ¥é”™ fn2 is not defined
        console.log(this.fn2)//function(){...}
    }
}
obj.fn2()
```

- é¦–å…ˆ ç¬¬äºŒè¡Œçš„æ‰“å°æ˜¯ fnå¯¹è±¡ï¼ˆäººå®¶é¡ºç€ä½œç”¨åŸŸé“¾å°±èƒ½è½»æ¾æ‰¾åˆ°ä½äºå…¨å±€ä½œç”¨åŸŸä¸­çš„fnå’¯~ï¼‰
- ç¬¬åä¸€è¡Œ æŠ¥é”™ æ¥çœ‹çœ‹fn2çš„å¿ƒè·¯å†ç¨‹
  - å…ˆåœ¨fn2æ„é€ å‡½æ•°çš„å‡½æ•°ä½œç”¨åŸŸä¸­æ‰¾ æ²¡æœ‰å®šä¹‰è¿‡fn2ï¼ 
  - å†å»å…¨å±€ä½œç”¨åŸŸé‡Œæ‰¾ å…¨å±€å˜é‡ä¹Ÿæ²¡å®ƒè¿™å·å˜é‡ï¼
  - å†å»åŒçº§çš„å‡½æ•°ä½œç”¨åŸŸé‡Œæ‰¾æ‰¾è¡Œä¹ˆï¼Ÿ
    - ä¸è¡Œï¼ğŸ˜‚

- ç¬¬åäºŒè¡Œ æ‰“å°fn2å¯¹è±¡ åŠ ä¸Šthis è¡¨ç¤ºobjå¯¹è±¡ objå¯¹è±¡æ‹¥æœ‰è¿™ä¸ªfn2å‡½æ•°å•Š æ²¡é—®é¢˜~





## æœŸçº¦ä¸å¼‚æ­¥å‡½æ•°

### promiseã€asyncã€awaitç›¸å…³

##### [ç†è§£ JavaScript çš„ async/await](https://segmentfault.com/a/1190000007535316)

ç®€å•æ¥è¯´

> ```
> å¦‚æœawaitç­‰åˆ°çš„ä¸æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œé‚£ await è¡¨è¾¾å¼çš„è¿ç®—ç»“æœå°±æ˜¯å®ƒç­‰åˆ°çš„ä¸œè¥¿ã€‚
> 
> å¦‚æœawaitç­‰åˆ°çš„æ˜¯ä¸€ä¸ª Promise å¯¹è±¡ï¼Œawait å°±å¿™èµ·æ¥äº†ï¼Œå®ƒä¼šé˜»å¡åé¢çš„ä»£ç ï¼Œç­‰ç€ Promise å¯¹è±¡ resolveï¼Œç„¶åå¾—åˆ° resolve çš„å€¼ï¼Œä½œä¸º await è¡¨è¾¾å¼çš„è¿ç®—ç»“æœã€‚
> ```

ä¸¾ä¾‹ï¼Œç”¨ `setTimeout` æ¨¡æ‹Ÿè€—æ—¶çš„å¼‚æ­¥æ“ä½œï¼Œå…ˆæ¥çœ‹çœ‹ä¸ç”¨ async/await ä¼šæ€ä¹ˆå†™

```javascript
function takeLongTime() {
    return new Promise(resolve => {
        setTimeout(() => resolve("long_time_value"), 1000);
    });
}

takeLongTime().then(v => {
    console.log("got", v);
});
```

å¦‚æœæ”¹ç”¨ async/await å‘¢ï¼Œä¼šæ˜¯è¿™æ ·

```javascript
function takeLongTime() {
    return new Promise(resolve => {
        setTimeout(() => resolve("long_time_value"), 1000);
    });
}

async function test() {
    const v = await takeLongTime();
    console.log(v);
}

test();
```

å•ä¸€çš„ Promise é“¾å¹¶ä¸èƒ½å‘ç° async/await çš„ä¼˜åŠ¿ï¼Œä½†æ˜¯ï¼Œå¦‚æœéœ€è¦å¤„ç†ç”±å¤šä¸ª Promise ç»„æˆçš„ then é“¾çš„æ—¶å€™ï¼Œä¼˜åŠ¿å°±èƒ½ä½“ç°å‡ºæ¥äº†ï¼ˆå¾ˆæœ‰æ„æ€ï¼ŒPromise é€šè¿‡ then é“¾æ¥è§£å†³å¤šå±‚å›è°ƒçš„é—®é¢˜ï¼Œç°åœ¨åˆç”¨ async/await æ¥è¿›ä¸€æ­¥ä¼˜åŒ–å®ƒï¼‰ã€‚

å‡è®¾ä¸€ä¸ªä¸šåŠ¡ï¼Œåˆ†å¤šä¸ªæ­¥éª¤å®Œæˆï¼Œæ¯ä¸ªæ­¥éª¤éƒ½æ˜¯å¼‚æ­¥çš„ï¼Œè€Œä¸”ä¾èµ–äºä¸Šä¸€ä¸ªæ­¥éª¤çš„ç»“æœã€‚æˆ‘ä»¬ä»ç„¶ç”¨ `setTimeout` æ¥æ¨¡æ‹Ÿå¼‚æ­¥æ“ä½œï¼š

```javascript
/**
 * ä¼ å…¥å‚æ•° nï¼Œè¡¨ç¤ºè¿™ä¸ªå‡½æ•°æ‰§è¡Œçš„æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
 * æ‰§è¡Œçš„ç»“æœæ˜¯ n + 200ï¼Œè¿™ä¸ªå€¼å°†ç”¨äºä¸‹ä¸€æ­¥éª¤
 */
function takeLongTime(n) {
    return new Promise(resolve => {
        setTimeout(() => resolve(n + 200), n);
    });
}

function step1(n) {
    console.log(`step1 with ${n}`);
    return takeLongTime(n);
}

function step2(n) {
    console.log(`step2 with ${n}`);
    return takeLongTime(n);
}

function step3(n) {
    console.log(`step3 with ${n}`);
    return takeLongTime(n);
}
```

ç°åœ¨ç”¨ Promise æ–¹å¼æ¥å®ç°è¿™ä¸‰ä¸ªæ­¥éª¤çš„å¤„ç†

```javascript
function doIt() {
    console.time("doIt");
    const time1 = 300;
    step1(time1)
        .then(time2 => step2(time2))
        .then(time3 => step3(time3))
        .then(result => {
            console.log(`result is ${result}`);
            console.timeEnd("doIt");
        });
}

doIt();

// c:\var\test>node --harmony_async_await .
// step1 with 300
// step2 with 500
// step3 with 700
// result is 900
// doIt: 1507.251ms
```

è¾“å‡ºç»“æœ `result` æ˜¯ `step3()` çš„å‚æ•° `700 + 200` = `900`ã€‚`doIt()` é¡ºåºæ‰§è¡Œäº†ä¸‰ä¸ªæ­¥éª¤ï¼Œä¸€å…±ç”¨äº† `300 + 500 + 700 = 1500` æ¯«ç§’ï¼Œå’Œ `console.time()/console.timeEnd()` è®¡ç®—çš„ç»“æœä¸€è‡´ã€‚

å¦‚æœç”¨ async/await æ¥å®ç°å‘¢ï¼Œä¼šæ˜¯è¿™æ ·

```javascript
async function doIt() {
    console.time("doIt");
    const time1 = 300;
    const time2 = await step1(time1);
    const time3 = await step2(time2);
    const result = await step3(time3);
    console.log(`result is ${result}`);
    console.timeEnd("doIt");
}

doIt();
```

ç»“æœå’Œä¹‹å‰çš„ Promise å®ç°æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯è¿™ä¸ªä»£ç çœ‹èµ·æ¥æ˜¯ä¸æ˜¯æ¸…æ™°å¾—å¤šï¼Œ==å‡ ä¹è·ŸåŒæ­¥ä»£ç ä¸€æ ·==

##### [async å‡½æ•°çš„å«ä¹‰å’Œç”¨æ³•](http://www.ruanyifeng.com/blog/2015/05/async.html)

### xhrã€fetchç›¸å…³ï¼ˆAJAXï¼‰





## æµè§ˆå™¨ä¸­çš„JavaScript

### DOMç›¸å…³

#### DOMæ ¸å¿ƒæ¥å£1

> è·å–DOMä¸­çš„èŠ‚ç‚¹

- [`document.getElementById('id')`](https://developer.mozilla.org/zh-CN/docs/Web/API/Document/getElementById)
- [`document.querySelector('selecotrs')`](https://developer.mozilla.org/zh-CN/docs/Web/API/Document/querySelector)
  - idã€class
    - `querySelector('#root')`
  - æ›´é«˜çº§ä¸€äº›â€”â€”æ ‡ç­¾åã€CSSå±æ€§å€¼
    - `querySelector(input[name = 'login'])`nameå±æ€§ä¸ºloginçš„inputå…ƒç´ 

#### DOMæ ¸å¿ƒæ¥å£2

> åŠ¨æ€åœ°åˆ›å»ºèŠ‚ç‚¹å¹¶æ’å…¥åˆ°DOMä¸­

- [`element.style.xxx`](https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/style)(MDNé‡Œç”šè‡³æ²¡æœ‰ä¸­æ–‡ORZ)
  - è®¾ç½®è·å–å…ƒç´ çš„å±æ€§
- [`document.createElement(è¦åˆ›å»ºçš„æ ‡ç­¾åç§°/ç±»å)`](https://developer.mozilla.org/zh-CN/docs/Web/API/Document/createElement)
- [`node.appendChild(å­èŠ‚ç‚¹)`](https://developer.mozilla.org/zh-CN/docs/Web/API/Node/appendChild)
  - å°†å­èŠ‚ç‚¹è¿½åŠ ç»™çˆ¶èŠ‚ç‚¹
- [`Element.innerHTML`](https://developer.mozilla.org/zh-CN/docs/Web/API/Element/innerHTML)

#### DOMæ ¸å¿ƒæ¥å£3

> è·å–/è®¾ç½®å…ƒç´ çš„æ ·å¼

- [`element.getAttribute(name)`](https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getAttribute)
- [`element.setAttribute('å±æ€§åç§°', 'å±æ€§çš„å€¼/æ–°å€¼')`](https://developer.mozilla.org/zh-CN/docs/Web/API/Element/setAttribute)

#### DOMæ ¸å¿ƒæ¥å£4

> ç›‘å¬äº‹ä»¶

- [`target.addEventListener()`](https://developer.mozilla.org/zh-CN/docs/Web/API/EventTarget/addEventListener)

#### äº‹ä»¶

- æ³¨å†Œäº‹ä»¶æ–¹æ³•1
  - å†…å®¹HTMLå’Œäº¤äº’JSç»‘å®šåœ¨ä¸€èµ·äº†ï¼Œè¿™æ ·ä¸å¥½~ï¼ˆæ¯”è¾ƒå¤è€çš„å†™æ³•ï¼‰

```html
<button id='btn'>onclick = "eventLog('onclick')"</button>
<script>
    function eventLog(type){
        console.log('è§¦å‘çš„äº‹ä»¶æ˜¯ï¼š' + type)
    }
</script>

```

- **æ³¨å†Œäº‹ä»¶çš„æ–¹æ³•2**
  - ä¸ç”¨ç»™æ ‡ç­¾åŠ äº‹ä»¶ï¼Œç›´æ¥ç”¨JSè·å–æ ‡ç­¾å¯¹åº”çš„å…ƒç´ ç„¶åä½¿ç”¨ `addEventListener`ï¼ˆè¿™ä¸ªç”¨å¾—çœŸçš„è¶…çº§å¤šï¼ï¼‰

```js
function eventLog(type){
    console.log('è§¦å‘çš„äº‹ä»¶æ˜¯ï¼š' + type)
}
const btn = document.querySelector('#btn');
btn.addEventListener('click', function(){
    eventLog('onclick');
})
```



- å¸¸è§äº‹ä»¶

  - é¼ æ ‡ç‚¹å‡»äº‹ä»¶

  ```js
  onclick = "å›è°ƒå‡½æ•°"
  ```

  

  - é¼ æ ‡ç§»å…¥ç§»å‡ºäº‹ä»¶

  ```js
  onmouseover = "å›è°ƒå‡½æ•°"
  onmouseout = "å›è°ƒå‡½æ•°"
  ```

  

  - æ–‡æœ¬æ”¹å˜äº‹ä»¶

  ```js
  onchange = "å›è°ƒå‡½æ•°";// ç»å¸¸ç”¨onchangeæ¥ç›‘å¬è¾“å…¥æ¡†ä¸­çš„æ”¹å˜
  ```

  

  - é”®ç›˜è¾“å…¥äº‹ä»¶

  ```js
  oninput = "å›è°ƒå‡½æ•°";// ç”¨è¿™ä¸ªç›‘å¬å…¨å±€çš„é”®ç›˜é”®å…¥
  ```

  

  - è¾“å…¥æ¡†ï¼ˆå…‰æ ‡ï¼‰focusï¼ˆèšç„¦ï¼‰äº‹ä»¶

  ```js
  onfocus = "å›è°ƒå‡½æ•°"
  ```

  

  - è¾“å…¥æ¡†ï¼ˆå…‰æ ‡ï¼‰blurå¤±ç„¦äº‹ä»¶

  ```js
  onblur = "å›è°ƒå‡½æ•°"
  ```

- è™½ç„¶æˆ‘ä»¬ç°åœ¨ä¾¦å¬äº‹ä»¶ä¸€èˆ¬ç”¨`addEventListener(â€˜xxxâ€™, å›è°ƒå‡½æ•°)`å§~ï¼ˆä¸åŒ…æ‹¬æ¡†æ¶ï¼ï¼‰ä½†æ˜¯åŸç”Ÿçš„JSæ“ä½œDOMè¿˜æ˜¯è¦ç†è§£å’§ï¼

  - å› ä¸ºè¿½æº¯æ ¹æºï¼Œæ¡†æ¶å°±æ˜¯å¸®åŠ©æˆ‘ä»¬æ“ä½œäº†DOMæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ŒåæœŸæ€§èƒ½ä¼˜åŒ–çš„äº†è§£ä¸Šè¿™ä¸ªå¿…ä¸å¯å°‘ï¼



### BOMç›¸å…³

æµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼ˆBrowser Object Modelï¼‰çš„æ ¸å¿ƒæ˜¯ window å¯¹è±¡ã€‚æ˜¯æ¯ä¸ªæµè§ˆå™¨â¼šå•†åœ¨æµè§ˆå™¨ä¸Šæä¾›çš„ï¼Œæä¾›ä¸æµè§ˆå™¨äº¤äº’çš„â½…æ³•å’Œæ¥â¼ï¼ˆâ½å¦‚ï¼Œè·³è½¬â»šâ¾¯ï¼Œè·å–çª—â¼â¼¤â¼©ï¼Œè· å–å†å²è®°å½•ï¼Œè·å–å½“å‰é¡µé¢URLï¼Œè·å–â½‚æ¡£èŠ‚ç‚¹ç­‰ï¼‰
â¼¤éƒ¨åˆ†æˆ‘ä»¬å¸¸â½¤çš„æ¥â¼éƒ½æ˜¯ç›¸åŒçš„è°ƒâ½¤â½…å¼ï¼Œä½†æ˜¯æµè§ˆ
å™¨ä»–ä»¬åº•å±‚å®ç°çš„â½…å¼ä¼šä¸åŒã€‚



### äº‹ä»¶

#### DOMæ³¨å†Œäº‹ä»¶çš„ä¸‰ç§æ–¹æ³•

- method01 é¡µé¢å…ƒç´ ï¼ˆæ ‡ç­¾ï¼‰æä¾›çš„äº‹ä»¶å±æ€§

```html
<button onclick="myClick()" id="btn">xx</button>
```

- method02 ä½¿ç”¨DOMå¯¹è±¡çš„äº‹ä»¶å±æ€§

```js
var btn = document.getElementById("btn");
// ç»™æŒ‡å®šå…ƒç´ æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
btn.onclick = myClick;
function myClick(){
    xxx
}
```

- method03 äº‹ä»¶ç›‘å¬å™¨

```js
var btn = document.getElementById("btn");
// ç»™æŒ‡å®šå…ƒç´ æ·»åŠ äº‹ä»¶ç›‘å¬å™¨
btn.addEventListener('click', function () {
    xxx
})
```



#### äº‹ä»¶çš„å†’æ³¡ä¸æ•è·

å€Ÿé‰´äº†[è¿™é‡Œ](https://827652549.github.io/my-book/?utm_source=gold_browser_extension#/javascript/questions?id=%e5%86%92%e6%b3%a1%e5%92%8c%e6%8d%95%e8%8e%b7)

> å¯ä»¥é€šè¿‡addEventListener()çš„ç¬¬ä¸‰ä¸ªå‚æ•°æ¥ç¡®å®šæ•è·è¿˜æ˜¯å†’æ³¡ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦ç»‘å®šçš„äº‹ä»¶ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å›è°ƒå‡½æ•°ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°é»˜è®¤æ˜¯falseï¼Œä»£è¡¨**äº‹ä»¶å†’æ³¡é˜¶æ®µ**è°ƒç”¨äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œå¦‚æœè®¾ç½®æˆtrueï¼Œåˆ™åœ¨**äº‹ä»¶æ•è·é˜¶æ®µ**è°ƒç”¨å¤„ç†å‡½æ•°ã€‚

**å†’æ³¡ï¼š**

ç‚¹[è¿™ä¸ªdemo](https://www.w3school.com.cn/tiy/t.asp?f=event_stoppropagation)è¯•è¯•çœ‹

è¿˜å¯ä»¥ç‚¹[JS30ä¸­ç¬¬25ä¸ªdemo](https://fangzhousu.github.io/JS-30Demos/25_Event-Capture-Propagation-Bubbling-and-Once/index-billSu.html)

å¾®è½¯æå‡ºäº†äº‹ä»¶å†’æ³¡çš„äº‹ä»¶æµï¼Œäº‹ä»¶ä¼š**ä»æœ€å†…å±‚çš„å…ƒç´ å¼€å§‹å‘ç”Ÿ**ï¼Œä¸€ç›´å‘ä¸Šä¼ æ’­ï¼Œç›´åˆ°documentå¯¹è±¡ã€‚på…ƒç´ ä¸Šå‘ç”Ÿclickäº‹ä»¶çš„é¡ºåºåº”è¯¥æ˜¯p -> body -> html -> document

**æ•è·ï¼š**

ç½‘æ™¯æå‡ºäº†äº‹ä»¶æ•è·çš„äº‹ä»¶æµï¼Œäº‹ä»¶æ•è·ç›¸åï¼Œäº‹ä»¶ä¼š**ä»æœ€å¤–å±‚å¼€å§‹å‘ç”Ÿ**ï¼Œç›´åˆ°æœ€å…·ä½“çš„å…ƒç´ ã€‚på…ƒç´ ä¸Šå‘ç”Ÿclickäº‹ä»¶çš„é¡ºåºåº”è¯¥æ˜¯document -> html -> body -> div -> p

W3Cåˆ¶å®šäº†ç»Ÿä¸€çš„æ ‡å‡†ï¼Œ**å…ˆæ•è·å†å†’æ³¡**ã€‚

å¯ä»¥é€šè¿‡addEventListener()çš„ç¬¬ä¸‰ä¸ªå‚æ•°æ¥ç¡®å®šæ•è·è¿˜æ˜¯å†’æ³¡ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦ç»‘å®šçš„äº‹ä»¶ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å›è°ƒå‡½æ•°ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°é»˜è®¤æ˜¯falseï¼Œä»£è¡¨**äº‹ä»¶å†’æ³¡é˜¶æ®µ**è°ƒç”¨äº‹ä»¶å¤„ç†å‡½æ•°ï¼Œå¦‚æœè®¾ç½®æˆtrueï¼Œåˆ™åœ¨**äº‹ä»¶æ•è·é˜¶æ®µ**è°ƒç”¨å¤„ç†å‡½æ•°ã€‚

##### æ›´æç«¯çš„æƒ…å†µ

åœ¨æµè§ˆå™¨ä¸­ï¼Œå¦‚æœçˆ¶å­å…ƒç´ **éƒ½è®¾ç½®äº†æ•è·å’Œå†’æ³¡**çš„è¾“å‡ºï¼Œå½“ç‚¹å‡»å­å…ƒç´ æ—¶ï¼š

- å…ˆæ•è·çˆ¶å…ƒç´ 
- å­å…ƒç´ è¾“å‡ºå…ˆæ³¨å†Œçš„äº‹ä»¶ï¼Œå¦‚æœæ˜¯æ•è·å…ˆè¾“å‡ºæ•è·ï¼Œå¦‚æœæ˜¯å†’æ³¡å…ˆè¾“å‡ºå†’æ³¡
- å†è¾“å‡ºçˆ¶å…ƒç´ çš„å†’æ³¡äº‹ä»¶

#### äº‹ä»¶å†’æ³¡ä¸é˜»æ­¢äº‹ä»¶å†’æ³¡ï¼ˆä¸æ•è·ï¼‰

çœ‹[è¿™ä¸ªdemo](https://www.w3school.com.cn/tiy/t.asp?f=event_stoppropagation)

ä½¿ç”¨

```js
event.stopPropagation();// é˜»æ­¢å†’æ³¡
```

#### é˜»æ­¢ç‚¹å‡»äº‹ä»¶

```js
event.defaultPrevented();// é˜»æ­¢ç‚¹å‡»äº‹ä»¶
event.cancelable();// è¿™æ ·ä¹Ÿå¯ä»¥ï¼Ÿï¼
```

> å›¾å¦‚æœçœ‹ä¸äº†çš„è¯ ç›´æ¥è®¿é—®å›¾ç‰‡é“¾æ¥å¥½äº†orz
>
> https://gitee.com/su-fangzhou/blog-image/raw/master/202111150020231.png

![image-20211115002048573](https://gitee.com/su-fangzhou/blog-image/raw/master/202111150020231.png)

## æ­£åˆ™è¡¨è¾¾å¼



## ES6ã€ES7ã€ES2020æ–°å¢å†…å®¹

### Mapæ•°æ®ç»“æ„

> [é˜®å¤§çš„ES6æ•™ç¨‹](https://es6.ruanyifeng.com/#docs/set-map#Map)

#### åˆå§‹åŒ–map

```js
const map = new Map([
	["(", ")"],
    ["[", "]"],
    ["{", "}"]
])
```

é”®å€¼å¯¹ä¸å¤šå¯ä»¥ç”¨`map.set(key, value)`

#### é¢˜ç›®ä¸­ mapçš„é”®çš„ç±»å‹æ˜¯å­—ç¬¦å‹ï¼Œæ‰€ä»¥å¯ä»¥ç”¨startsWith(xxx)æ–¹æ³•æ¥åˆ¤æ–­å…¶å‰ç¼€æ˜¯å¦ä¸ºxxx

ç¢°åˆ°ä¸€é“åŠ›æ‰£ [677. é”®å€¼æ˜ å°„](https://leetcode-cn.com/problems/map-sum-pairs/)ï¼Œç”¨åˆ°äº†å­—ç¬¦ä¸²çš„è¿™ä¸ªAPIï¼Œå¾ˆæœ‰è¶£ä¹Ÿå¾ˆå®ç”¨ï¼

```js
var MapSum = function() {
    this.map = new Map();

};

MapSum.prototype.insert = function(key, val) {
    this.map.set(key, val);
};

MapSum.prototype.sum = function(prefix) {
    let res = 0;
    for (const s of this.map.keys()) {
        console.log(typeof(s));// string
        if (s.startsWith(prefix)) {
            // å¦‚æœså¼€å¤´æ˜¯prefixï¼Œè¿”å›true
            res += this.map.get(s);
        }
    }
    return res;
};
```



# æµè§ˆå™¨

## æµè§ˆå™¨ä¸­çš„è¿›ç¨‹ä¸çº¿ç¨‹

## æµè§ˆå™¨æ¸²æŸ“åŸç†

## æµè§ˆå™¨ä¸­çš„Eventloop

#### [å¾®ä»»åŠ¡ã€å®ä»»åŠ¡ä¸Event-Loop](https://www.cnblogs.com/jiasm/p/9482443.html)

> åˆçœ‹åˆ°ç¯‡å¥½æ–‡~

#### JSå¼•æ“çš„æ‰§è¡Œæœºåˆ¶â€”â€”äº‹ä»¶å¾ªç¯ Event Loop

> çœ‹äº†ä¸‹è¿™ç¯‡æ–‡ç«  ç®€å•å…¥é—¨[10åˆ†é’Ÿç†è§£JSå¼•æ“çš„æ‰§è¡Œæœºåˆ¶](https://segmentfault.com/a/1190000012806637)
>
> æ³¨æ„æœ¬æ–‡ä¸­æ‰€æœ‰æ‰§è¡Œæµç¨‹æ˜¯åŸºäºæµè§ˆå™¨ç¯å¢ƒï¼Œè€Œä¸æ˜¯nodeç¯å¢ƒ
>
> > nodeè½®è¯¢æœ‰phaseï¼ˆé˜¶æ®µï¼‰çš„æ¦‚å¿µ
> > [æµè§ˆå™¨å’ŒNodeJSä¸­ä¸åŒçš„Event Loop ](https://link.segmentfault.com/?enc=6x5T1cZ7jDAzqHVEmBhr0g%3D%3D.9kALuwmRprTk9xaL8P54pEg9Lt6E59fqqaQHd1Q%2Bi40a3%2FUE9nwFb8wOUfv%2FgmQu)

> äº‹ä»¶å¾ªç¯çš„æ ¸å¿ƒæœºåˆ¶æ˜¯ï¼š**å®ä»»åŠ¡ã€å¾®ä»»åŠ¡åŠå…¶ç›¸å…³é˜Ÿåˆ—çš„æ‰§è¡Œæµç¨‹å›¾**

å•çº¿ç¨‹çš„JSé€šè¿‡äº‹ä»¶å¾ªç¯ Event Loop å®ç°å¼‚æ­¥

JSçš„æ‰§è¡Œæœºåˆ¶æ˜¯

- é¦–å…ˆåˆ¤æ–­JSæ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥,åŒæ­¥å°±è¿›å…¥ä¸»çº¿ç¨‹,å¼‚æ­¥å°±è¿›å…¥**event table**
- å¼‚æ­¥ä»»åŠ¡åœ¨event tableä¸­æ³¨å†Œå‡½æ•°,å½“æ»¡è¶³è§¦å‘æ¡ä»¶å,è¢«æ¨å…¥**event queue**
- åŒæ­¥ä»»åŠ¡è¿›å…¥ä¸»çº¿ç¨‹åä¸€ç›´æ‰§è¡Œ,ç›´åˆ°**ä¸»çº¿ç¨‹ç©ºé—²**æ—¶,æ‰ä¼šå»event queueä¸­æŸ¥çœ‹æ˜¯å¦æœ‰å¯æ‰§è¡Œçš„å¼‚æ­¥ä»»åŠ¡,å¦‚æœæœ‰å°±æ¨å…¥ä¸»çº¿ç¨‹ä¸­

ä»¥ä¸Šä¸‰æ­¥å¾ªç¯æ‰§è¡Œ,è¿™å°±æ˜¯event loop

> ä¸¾ä¸ªä¾‹å­
>
> ```js
> console.log(1)
> 
> setTimeout(function(){
>     console.log(2)
> },0)
> 
> console.log(3)
> ```
>
> ```js
> 1.console.log(1) æ˜¯åŒæ­¥ä»»åŠ¡,æ”¾å…¥ä¸»çº¿ç¨‹é‡Œ
> 2.setTimeout() æ˜¯å¼‚æ­¥ä»»åŠ¡,è¢«æ”¾å…¥event table, 0ç§’ä¹‹åè¢«æ¨å…¥event queueé‡Œ
> 3.console.log(3) æ˜¯åŒæ­¥ä»»åŠ¡,æ”¾åˆ°ä¸»çº¿ç¨‹é‡Œ
> 
> // å½“ 1ã€ 3åœ¨æ§åˆ¶æ¡è¢«æ‰“å°å,ä¸»çº¿ç¨‹å»event queue(äº‹ä»¶é˜Ÿåˆ—)é‡ŒæŸ¥çœ‹æ˜¯å¦æœ‰å¯æ‰§è¡Œçš„å‡½æ•°,æ‰§è¡ŒsetTimeouté‡Œçš„å‡½æ•°
> ```

ä½†è¿™è¿˜ä¸å¤Ÿï¼

##### å¾®ä»»åŠ¡ã€å®ä»»åŠ¡çš„æ¦‚å¿µ

å¦‚æœæœ‰å¤šä¸ªä»»åŠ¡åœ¨event queueé‡Œå‘†ç€å‘¢ï¼Ÿè°å…ˆï¼Ÿè°åï¼Ÿä¸Šæ–°æ¦‚å¿µï¼

ä¸Šé“é¢˜

```js
setTimeout(function(){
    console.log('å®šæ—¶å™¨å¼€å§‹å•¦')
});

new Promise(function(resolve){
    console.log('é©¬ä¸Šæ‰§è¡Œforå¾ªç¯å•¦');
    for(var i = 0; i < 10000; i++){
        i == 99 && resolve();
    }
}).then(function(){
    console.log('æ‰§è¡Œthenå‡½æ•°å•¦')
});

console.log('ä»£ç æ‰§è¡Œç»“æŸ');
```



å°è¯•æŒ‰ç…§,ä¸Šæ–‡æˆ‘ä»¬åˆšå­¦åˆ°çš„JSæ‰§è¡Œæœºåˆ¶å»åˆ†æ

```javascript
ã€1ã€‘setTimeout æ˜¯å¼‚æ­¥ä»»åŠ¡,è¢«æ”¾åˆ°event table

ã€2ã€‘new Promise æ˜¯åŒæ­¥ä»»åŠ¡,è¢«æ”¾åˆ°ä¸»çº¿ç¨‹é‡Œ,ç›´æ¥æ‰§è¡Œæ‰“å° console.log('é©¬ä¸Šæ‰§è¡Œforå¾ªç¯å•¦')

ã€3ã€‘.thené‡Œçš„å‡½æ•°æ˜¯ å¼‚æ­¥ä»»åŠ¡,è¢«æ”¾åˆ°event table

ã€4ã€‘ console.log('ä»£ç æ‰§è¡Œç»“æŸ')æ˜¯åŒæ­¥ä»£ç ,è¢«æ”¾åˆ°ä¸»çº¿ç¨‹é‡Œ,ç›´æ¥æ‰§è¡Œ
```

æ‰€ä»¥,ç»“æœæ˜¯ ã€é©¬ä¸Šæ‰§è¡Œforå¾ªç¯å•¦ --- ä»£ç æ‰§è¡Œç»“æŸ --- å®šæ—¶å™¨å¼€å§‹å•¦ --- æ‰§è¡Œthenå‡½æ•°å•¦ã€‘å—?

äº²è‡ªæ‰§è¡Œå,ç»“æœå±…ç„¶ä¸æ˜¯è¿™æ ·,è€Œæ˜¯ã€é©¬ä¸Šæ‰§è¡Œforå¾ªç¯å•¦ --- ä»£ç æ‰§è¡Œç»“æŸ --- **æ‰§è¡Œthenå‡½æ•°å•¦ --- å®šæ—¶å™¨å¼€å§‹å•¦**ã€‘

> æ¬¸ï¼Ÿä¸æ˜¯setTimeoutè¿™ä¸ªä»»åŠ¡å…ˆè¿›çš„event tableéº½ï¼Ÿ
>
> å¹¶ä¸æ˜¯ï¼ä¸Šè¿°æ ¹æ®å¼‚æ­¥åŒæ­¥ä¸€è‚¡è„‘åˆ’åˆ†çš„æ–¹æ³•ä¸å¯¹ï¼

è€Œå‡†ç¡®çš„åˆ’åˆ†æ–¹å¼æ˜¯:

- macro-task(**å®ä»»åŠ¡**)ï¼šåŒ…æ‹¬`æ•´ä½“ä»£ç script`ï¼Œ`setTimeout`ï¼Œ`setInterval`
- micro-task(**å¾®ä»»åŠ¡)**ï¼š`Promise`ï¼Œ`process.nextTick`ï¼ˆNodeç‹¬æœ‰ï¼‰

![clipboard.png](https://segmentfault.com/img/bV1TKz?w=879&h=723)

æŒ‰ç…§è¿™ç§åˆ†ç±»æ–¹å¼:JSçš„æ‰§è¡Œæœºåˆ¶æ˜¯

- ã€1ã€‘æ‰§è¡Œä¸€ä¸ª**å®ä»»åŠ¡**(JSè„šæœ¬ä¸­çš„å†…å®¹éƒ½æ˜¯å®ä»»åŠ¡~),è¿‡ç¨‹ä¸­å¦‚æœã€2ã€‘é‡åˆ°å¾®ä»»åŠ¡,å°±å°†å…¶ã€3ã€‘æ”¾åˆ°å¾®ä»»åŠ¡çš„ã€äº‹ä»¶é˜Ÿåˆ—ã€‘é‡Œ
- å½“å‰ã€4ã€‘å®ä»»åŠ¡æ‰§è¡Œå®Œæˆå,ä¼šæŸ¥çœ‹å¾®ä»»åŠ¡çš„ã€äº‹ä»¶é˜Ÿåˆ—ã€‘,å¹¶ã€5ã€‘å°†é‡Œé¢å…¨éƒ¨çš„å¾®ä»»åŠ¡ä¾æ¬¡æ‰§è¡Œå®Œ

é‡å¤ä»¥ä¸Š2æ­¥éª¤,ç»“åˆevent loop(1) event loop(2) ,å°±æ˜¯æ›´ä¸ºå‡†ç¡®çš„JSæ‰§è¡Œæœºåˆ¶äº†ã€‚

å°è¯•æŒ‰ç…§åˆšå­¦çš„æ‰§è¡Œæœºåˆ¶,å»åˆ†æä¾‹2:

```js
1.é¦–å…ˆæ‰§è¡Œscriptä¸‹çš„å®ä»»åŠ¡,é‡åˆ°setTimeout,å°†å…¶æ”¾åˆ°å®ä»»åŠ¡çš„ã€é˜Ÿåˆ—ã€‘é‡Œ

2.é‡åˆ° new Promiseç›´æ¥æ‰§è¡Œ,æ‰“å°"é©¬ä¸Šæ‰§è¡Œforå¾ªç¯å•¦"

3.é‡åˆ°thenæ–¹æ³•,æ˜¯å¾®ä»»åŠ¡,å°†å…¶æ”¾åˆ°å¾®ä»»åŠ¡çš„ã€é˜Ÿåˆ—é‡Œã€‘

4.æ‰“å° "ä»£ç æ‰§è¡Œç»“æŸ"

5.æœ¬è½®å®ä»»åŠ¡æ‰§è¡Œå®Œæ¯•,æŸ¥çœ‹æœ¬è½®çš„å¾®ä»»åŠ¡,å‘ç°æœ‰ä¸€ä¸ªthenæ–¹æ³•é‡Œçš„å‡½æ•°, æ‰“å°"æ‰§è¡Œthenå‡½æ•°å•¦"

6.åˆ°æ­¤,æœ¬è½®çš„event loop å…¨éƒ¨å®Œæˆã€‚


7.ä¸‹ä¸€è½®çš„å¾ªç¯é‡Œ,å…ˆæ‰§è¡Œä¸€ä¸ªå®ä»»åŠ¡,å‘ç°å®ä»»åŠ¡çš„ã€é˜Ÿåˆ—ã€‘é‡Œæœ‰ä¸€ä¸ª setTimeouté‡Œçš„å‡½æ•°,æ‰§è¡Œæ‰“å°"å®šæ—¶å™¨å¼€å§‹å•¦"
```

æ‰€ä»¥æœ€åçš„æ‰§è¡Œé¡ºåºæ˜¯ã€é©¬ä¸Šæ‰§è¡Œforå¾ªç¯å•¦ --- ä»£ç æ‰§è¡Œç»“æŸ --- æ‰§è¡Œthenå‡½æ•°å•¦ --- å®šæ—¶å™¨å¼€å§‹å•¦ã€‘

##### è°ˆè°ˆsetTimeout

è¿™æ®µsetTimeoutä»£ç ä»€ä¹ˆæ„æ€? æˆ‘ä»¬ä¸€èˆ¬è¯´: 3ç§’å,ä¼šæ‰§è¡ŒsetTimeouté‡Œçš„é‚£ä¸ªå‡½æ•°

```javascript
 setTimeout(function(){
    console.log('æ‰§è¡Œäº†')
 },3000)    
```

ä½†æ˜¯è¿™ç§è¯´å¹¶ä¸ä¸¥è°¨,å‡†ç¡®çš„è§£é‡Šæ˜¯: 3ç§’å,setTimeouté‡Œçš„å‡½æ•°ä¼š**è¢«æ¨å…¥event queue**,è€Œevent queue(äº‹ä»¶é˜Ÿåˆ—)é‡Œçš„ä»»åŠ¡,åªæœ‰åœ¨**ä¸»çº¿ç¨‹ç©ºé—²æ—¶æ‰ä¼šæ‰§è¡Œ**ã€‚

**æ‰€ä»¥åªæœ‰æ»¡è¶³ (1)3ç§’å (2)ä¸»çº¿ç¨‹ç©ºé—²,åŒæ—¶æ»¡è¶³æ—¶,æ‰ä¼š3ç§’åæ‰§è¡Œè¯¥å‡½æ•°**

å¦‚æœä¸»çº¿ç¨‹æ‰§è¡Œå†…å®¹å¾ˆå¤š,æ‰§è¡Œæ—¶é—´è¶…è¿‡3ç§’,æ¯”å¦‚æ‰§è¡Œäº†10ç§’,é‚£ä¹ˆè¿™ä¸ªå‡½æ•°åªèƒ½10ç§’åæ‰§è¡Œäº†

##### å›¾è§£Event Loop

![image-20211222211840736](https://gitee.com/su-fangzhou/blog-image/raw/master/202112222118849.png)

- åŒæ­¥ä»»åŠ¡ç›´æ¥è¿›å…¥ä¸»æ‰§è¡Œæ ˆï¼ˆcall stackï¼‰ä¸­æ‰§è¡Œ
- ç­‰å¾…ä¸»æ‰§è¡Œæ ˆä¸­ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œç”±ELå°†å¼‚æ­¥ä»»åŠ¡æ¨å…¥ä¸»æ‰§è¡Œæ ˆä¸­æ‰§è¡Œ

## æµè§ˆå™¨å­˜å‚¨ç›¸å…³ï¼ˆlocalstorageã€sessionstorageï¼‰

